"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[165],{2582:(b,y,o)=>{o.d(y,{R:()=>P});var a=o(5879);let P=(()=>{var i;class c{}return(i=c).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["loader"]],decls:3,vars:0,consts:[[1,"loader-wrapper"],[1,"loader-area"],[1,"pre-loader"]],template:function(t,U){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"div",2),a.qZA()())},styles:['.loader-wrapper[_ngcontent-%COMP%]{margin:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]{position:relative;display:flex;padding:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]{position:absolute;inset:0;width:60px;height:60px;margin:auto}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before, .loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-width:5px;border-style:solid;border-color:#1259a4;border-radius:100%}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before{opacity:.5}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{border-color:#1259a4 transparent transparent;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_blob-bottom{25%,50%,75%{top:50%;left:100%}to{top:0;left:50%}}@keyframes _ngcontent-%COMP%_blob-left{25%{top:50%;left:0}50%,to{top:100%;left:50%}}@keyframes _ngcontent-%COMP%_blob-top{50%{top:0;left:50%}75%,to{top:50%;left:0}}@keyframes _ngcontent-%COMP%_blob-spinner-mover{0%,to{top:0;left:50%}25%{top:50%;left:100%}50%{top:100%;left:50%}75%{top:50%;left:0}}']}),c})()},3838:(b,y,o)=>{o.d(y,{N:()=>U,x:()=>O});var l,h,m,e,d,a=o(5879);if(typeof window>"u")throw new Error("[TalkJS] The TalkJS JavaScript SDK only works in browsers (and not, for example, in Node.js)");l=window,h=document,m=[],(d=h.createElement("script")).async=1,d.src="https://cdn.talkjs.com/talk.js",h.head.appendChild(d),e=l.Promise,l.Talk={v:3,ready:{then:function(v){if(e)return new e(function(C,s){m.push([v,C,s])});m.push([v])},catch:function(){return e&&new e},c:m}};const i=window.Talk;var c=o(9900),g=o(930),t=o(2742);let U=(()=>{var l;class h{constructor(e){this.sessionService=e,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}onClick(e){this.popup&&this.popup.destroy(),this.popup=this.session.createPopup(),this.popup.select(this.conversation),this.popup.mount(),setTimeout(()=>{this.talkElementLanucher=document.querySelector("#__talkjs_launcher"),this.talkElementLanucher.addEventListener("click",r=>{this.talkElementLanucher.parentNode.remove()})},1e3)}initChat(e){let r={};this.sessionService.userId?this.sessionService.userdetailscast.subscribe(v=>{this.user=v,r=new i.User({id:this.user.id,name:`${this.user.fname} ${this.user.lname}`,photoUrl:this.user.profilePic?`${c.xY}${this.user.profilePic}`:c.Ov,role:1==this.user.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:this.user.consultancyUsers[0].consultancy.name,profileUrl:`${c.Eu}${this.user.consultancyUsers[0].publicProfileUserName}`}})}):r=new i.User({id:this.generateRandomId(),name:"user",photoUrl:`${c.Ov}`,role:" "});const d=new i.User({id:e.userId,name:`${e.userFName} ${e.userLName}`,photoUrl:`${c.xY}${e.profilePic}`,welcomeMessage:"Hey there! How are you? :-)",role:"Recruiter",custom:{companyName:e.companyName,profileUrl:`${c.Eu}${e.profileUserName}`}});this.session=new i.Session({appId:this.APP_ID,me:r}),this.conversation=this.session.getOrCreateConversation(i.oneOnOneId(r,d)),this.conversation.setParticipant(r),this.conversation.setParticipant(d)}ngOnChanges(){this.chatUser&&this.initChat(this.chatUser)}}return(l=h).\u0275fac=function(e){return new(e||l)(a.Y36(g.m))},l.\u0275dir=a.lG2({type:l,selectors:[["",8,"chat-btn"]],hostBindings:function(e,r){1&e&&a.NdJ("click",function(v){return r.onClick(v)})},inputs:{chatUser:"chatUser"},features:[a.TTD]}),h})(),O=(()=>{var l;class h{constructor(e,r){this.element=e,this.sharedService=r,this.onUnreadEvent=new a.vpe,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}initInbox(e,r){const d=e.consultancyUsers[0].consultancy.name,v=`${c.Eu}${e.consultancyUsers[0].publicProfileUserName}`,u=new i.User({id:r.id,name:`${r.fname} ${r.lname}`,photoUrl:`${c.xY}${r.profilePic}`,welcomeMessage:"Hey there! How are you? :-)",role:1==r.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:r.consultancyUsers[0].consultancy.name,profileUrl:`${c.Eu}${r.consultancyUsers[0].publicProfileUserName}`}}),p=new i.User({id:e.id,name:`${e.fname} ${e.lname}`,photoUrl:e.profilePic?`${c.xY}${e.profilePic}`:c.Ov,role:1==e.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:d,profileUrl:v}});this.session=new i.Session({appId:this.APP_ID,me:p}),this.conversation=this.session.getOrCreateConversation(i.oneOnOneId(p,u)),this.conversation.setParticipant(u),this.conversation.setParticipant(p);const n=this.session.createInbox();n.select(this.conversation);const f=this.element.nativeElement.querySelector(".message-area");n.mount(f),this.session.unreads.on("change",M=>{this.sharedService.setInboxUnReadCount(M)})}ngOnChanges(){this.user&&this.chatUser&&this.initInbox(this.user,this.chatUser)}}return(l=h).\u0275fac=function(e){return new(e||l)(a.Y36(a.SBq),a.Y36(t.F))},l.\u0275dir=a.lG2({type:l,selectors:[["","id","inboxcontainer"]],inputs:{user:"user",chatUser:"chatUser"},outputs:{onUnreadEvent:"onUnreadEvent"},features:[a.TTD]}),h})()},9165:(b,y,o)=>{o.r(y),o.d(y,{MessagesModule:()=>C});var a=o(6814),P=o(5214),i=o(8524),c=o(1331),g=o(1670),t=o(5879),U=o(9945),O=o(2742),l=o(930),h=o(3838),m=o(2582);const e=["inboxContainer"],d=[{path:"",component:(()=>{var s;class u{constructor(n,f,M){this.userService=n,this.sharedService=f,this.sessionService=M,this.uneadCount=0}handleUnread(n){this.uneadCount=g.ZP.isEmpty(n)?0:n[0]?.unreadMessageCount}ngOnInit(){this.userService.apiUserGetUserByUserNameGet("kannantest32@gmail.com").subscribe({next:n=>{this.chatUser=n.value[0]},error:()=>{}}),this.sharedService.inboxunreadcountcast.subscribe(n=>{this.uneadCount=g.ZP.isEmpty(n)?0:n[0]?.unreadMessageCount}),this.sessionService.userdetailscast.subscribe(n=>{this.user=n})}}return(s=u).\u0275fac=function(n){return new(n||s)(t.Y36(U.KD),t.Y36(O.F),t.Y36(l.m))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-messages"]],viewQuery:function(n,f){if(1&n&&t.Gf(e,5),2&n){let M;t.iGM(M=t.CRH())&&(f.inboxContainer=M.first)}},decls:13,vars:3,consts:[[1,"messages-wrapper"],[1,"container"],[1,"row"],[1,"col-md-8"],["id","inboxContainer",1,"messages-box",3,"user","chatUser"],["inboxContainer",""],[1,"title","mb-3"],[1,"message-area"],[1,"col-md-4"],[1,"placeholder"],["src","https://placehold.co/600x400/png","alt",""]],template:function(n,f){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5)(6,"h6",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"loader"),t.qZA()()(),t.TgZ(10,"div",8)(11,"div",9),t._UZ(12,"img",10),t.qZA()()()()()),2&n&&(t.xp6(4),t.Q6J("user",f.user)("chatUser",f.chatUser),t.xp6(3),t.hij("You have ",f.uneadCount," unread conversations "))},dependencies:[h.x,m.R]}),u})()}];let v=(()=>{var s;class u{}return(s=u).\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[c.Bz.forChild(d),c.Bz]}),u})(),C=(()=>{var s;class u{}return(s=u).\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[a.ez,P.B,i.m.forRoot(),v]}),u})()}}]);