"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[745],{2582:(C,m,a)=>{a.d(m,{R:()=>g});var c=a(5879);let g=(()=>{var d;class e{}return(d=e).\u0275fac=function(_){return new(_||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["loader"]],decls:3,vars:0,consts:[[1,"loader-wrapper"],[1,"loader-area"],[1,"pre-loader"]],template:function(_,u){1&_&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.qZA()())},styles:['.loader-wrapper[_ngcontent-%COMP%]{margin:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]{position:relative;display:flex;padding:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]{position:absolute;inset:0;width:60px;height:60px;margin:auto}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before, .loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-width:5px;border-style:solid;border-color:#1259a4;border-radius:100%}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before{opacity:.5}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{border-color:#1259a4 transparent transparent;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_blob-bottom{25%,50%,75%{top:50%;left:100%}to{top:0;left:50%}}@keyframes _ngcontent-%COMP%_blob-left{25%{top:50%;left:0}50%,to{top:100%;left:50%}}@keyframes _ngcontent-%COMP%_blob-top{50%{top:0;left:50%}75%,to{top:50%;left:0}}@keyframes _ngcontent-%COMP%_blob-spinner-mover{0%,to{top:0;left:50%}25%{top:50%;left:100%}50%{top:100%;left:50%}75%{top:50%;left:0}}']}),e})()},2275:(C,m,a)=>{a.r(m),a.d(m,{MyAccountModule:()=>se});var c=a(6814),g=a(8524),d=a(1331),e=a(5879),p=a(9945),_=a(4855),u=a(930),x=a(2742),f=a(9229),l=a(6223),v=a(8473),w=a(1795),h=a(2582);const P=["myProfileForm"],M=["telInput"];function T(t,s){1&t&&e._UZ(0,"loader")}function b(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"div",38),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.isEdit=!r.isEdit)}),e.TgZ(1,"div",39)(2,"span",40),e._uU(3,"edit"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"Edit"),e.qZA()()()}}function Z(t,s){1&t&&(e.TgZ(0,"div",43),e._uU(1," First name is required "),e.qZA())}function y(t,s){if(1&t&&(e.TgZ(0,"div",41),e.YNc(1,Z,2,0,"div",42),e.qZA()),2&t){e.oxw();const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==o.controls.firstName.errors?null:o.controls.firstName.errors.required)}}function A(t,s){1&t&&(e.TgZ(0,"div",43),e._uU(1," Last name is required "),e.qZA())}function D(t,s){if(1&t&&(e.TgZ(0,"div",41),e.YNc(1,A,2,0,"div",42),e.qZA()),2&t){e.oxw();const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==o.controls.lastName.errors?null:o.controls.lastName.errors.required)}}function O(t,s){1&t&&(e.TgZ(0,"div",43),e._uU(1," Company name is required "),e.qZA())}function q(t,s){if(1&t&&(e.TgZ(0,"div",44),e.YNc(1,O,2,0,"div",42),e.qZA()),2&t){e.oxw();const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==o.controls.consultancyId.errors?null:o.controls.consultancyId.errors.required)}}function N(t,s){1&t&&(e.TgZ(0,"div",43),e._uU(1," Email is required "),e.qZA())}function I(t,s){1&t&&(e.TgZ(0,"div",43),e._uU(1," Invalid email format "),e.qZA())}function J(t,s){if(1&t&&(e.TgZ(0,"div",41),e.YNc(1,N,2,0,"div",42),e.YNc(2,I,2,0,"div",42),e.qZA()),2&t){e.oxw();const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==o.controls.email.errors?null:o.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.controls.email.errors?null:o.controls.email.errors.email)}}function U(t,s){1&t&&(e.TgZ(0,"div",43),e._uU(1," Company Name is required "),e.qZA())}function E(t,s){if(1&t&&(e.TgZ(0,"div",41),e.YNc(1,U,2,0,"div",42),e.qZA()),2&t){e.oxw();const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==o.controls.companyUrl.errors?null:o.controls.companyUrl.errors.required)}}function Q(t,s){1&t&&(e.TgZ(0,"div",43),e._uU(1," Email is required "),e.qZA())}function S(t,s){1&t&&(e.TgZ(0,"div",43),e._uU(1," Invalid email format "),e.qZA())}function F(t,s){if(1&t&&(e.TgZ(0,"div",41),e.YNc(1,Q,2,0,"div",42),e.YNc(2,S,2,0,"div",42),e.qZA()),2&t){e.oxw();const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==o.controls.alternateEmail.errors?null:o.controls.alternateEmail.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.controls.email.errors?null:o.controls.email.errors.alternateEmail)}}function Y(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"div",45)(1,"button",46),e._uU(2," Update "),e.qZA(),e.TgZ(3,"div",47),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.handleCancel())}),e._uU(4," Cancel "),e.qZA()()}}function z(t,s){if(1&t){const o=e.EpF();e.ynx(0),e.YNc(1,b,6,0,"div",3),e.TgZ(2,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.submitMyProfileForm())}),e.TgZ(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"label",10),e._uU(9,"First Name "),e.TgZ(10,"span",11),e._uU(11,"*"),e.qZA()(),e.TgZ(12,"input",12),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.formData.fname=r)}),e.qZA(),e.YNc(13,y,2,1,"div",13),e.qZA()()(),e.TgZ(14,"div",7)(15,"div",8)(16,"div",9)(17,"label",14),e._uU(18,"Last Name "),e.TgZ(19,"span",11),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.formData.lname=r)}),e.qZA(),e.YNc(22,D,2,1,"div",13),e.qZA()()(),e.TgZ(23,"div",16)(24,"div",17)(25,"app-search-field",18),e.NdJ("queryChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.onCompanyQuery(r))})("inputChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.onCompanyChange(r))}),e.qZA(),e.YNc(26,q,2,1,"div",19),e.qZA()(),e.TgZ(27,"div",7)(28,"div",8)(29,"div",9)(30,"label",20),e._uU(31,"Email "),e.TgZ(32,"span",11),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"input",21),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.formData.email=r)}),e.qZA(),e.YNc(35,J,3,2,"div",13),e.qZA()()(),e.TgZ(36,"div",7)(37,"div",8)(38,"div",9)(39,"label",22),e._uU(40,"Company Website "),e.TgZ(41,"span",11),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"input",23),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.companyData.email=r)}),e.qZA(),e.YNc(44,E,2,1,"div",13),e.qZA()()(),e.TgZ(45,"div",16)(46,"div",8)(47,"app-intl-tel-input",24),e.NdJ("phoneNumberChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.userPhone=r)}),e.qZA()()(),e.TgZ(48,"div",7)(49,"div",8)(50,"div",9)(51,"label",25),e._uU(52,"Alternate Email"),e.qZA(),e.TgZ(53,"input",26),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.formData.alternateEmail=r)}),e.qZA(),e.YNc(54,F,3,2,"div",13),e.qZA()()(),e.TgZ(55,"div",27)(56,"div",28)(57,"div",9)(58,"label"),e._uU(59,"Job role"),e.qZA(),e.TgZ(60,"div",29)(61,"div",30)(62,"input",31),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.userTypeId=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.onJobRoleChange())}),e.qZA(),e.TgZ(63,"label",32),e._uU(64," Recruiter "),e.qZA()(),e.TgZ(65,"div",30)(66,"input",33),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.userTypeId=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.onJobRoleChange())}),e.qZA(),e.TgZ(67,"label",34),e._uU(68," Bench Sales "),e.qZA()(),e.TgZ(69,"div",30)(70,"input",35),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.userTypeId=r)})("change",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.onJobRoleChange())}),e.qZA(),e.TgZ(71,"label",36),e._uU(72," Recruiter / Bench Sales "),e.qZA()()()()()()(),e.YNc(73,Y,5,0,"div",37),e.qZA(),e.BQk()}if(2&t){const o=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isEdit),e.xp6(11),e.Q6J("ngModel",n.formData.fname)("disabled",!n.isEdit),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.firstName.invalid),e.xp6(8),e.Q6J("ngModel",n.formData.lname)("disabled",!n.isEdit),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.lastName.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldDisabled",!n.isEdit)("fieldList",n.selectCompanyList)("isEdit",!0)("editValue",n.companyData),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.consultancyId.invalid),e.xp6(8),e.Q6J("ngModel",n.formData.email)("disabled",!n.isEdit),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.email.invalid),e.xp6(8),e.Q6J("ngModel",n.companyData.email)("disabled",!n.isEdit),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.companyUrl.invalid),e.xp6(3),e.Q6J("phoneNumber",n.userPhone)("edit",n.isEdit),e.xp6(6),e.Q6J("ngModel",n.formData.alternateEmail)("disabled",!n.isEdit),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.alternateEmail.invalid),e.xp6(8),e.Q6J("ngModel",n.userTypeId)("required",!0)("disabled",!n.isEdit),e.xp6(4),e.Q6J("ngModel",n.userTypeId)("required",!0)("disabled",!n.isEdit),e.xp6(4),e.Q6J("ngModel",n.userTypeId)("required",!0)("disabled",!n.isEdit),e.xp6(3),e.Q6J("ngIf",n.isEdit)}}function G(t,s){if(1&t&&(e.TgZ(0,"div",48),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.error," ")}}let H=(()=>{var t;class s{constructor(n,r,i,ie,ae,le){this.userService=n,this.consultancyService=r,this.authService=i,this.sessionService=ie,this.sharedService=ae,this.toastr=le,this.isLoaded=!1,this.isError=!1,this.error="",this.userData={},this.userPhone="",this.isEdit=!1}onCompanyQuery(n){this.consultancyService.apiConsultancySearchConsultanciesGet(n).subscribe({next:r=>{this.selectCompanyList=r.value},error:r=>{}})}onCompanyChange(n){this.userData.consultancyID=n.id}onJobRoleChange(){this.formData.userTypeId=this.userTypeId}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}handleCancel(){this.isEdit=!this.isEdit,this.myProfileForm.dirty&&this.reFetchData()}refreshUser(){this.authService.login({userEmail:this.formData.email,userId:this.sessionService.userId,token:this.authService.token,userTypeId:this.formData.userTypeId,consultancyId:this.userData.consultancyID,consultancyUserId:this.sessionService.consultancyUserId})}submitMyProfileForm(){for(const n in this.myProfileForm.controls)this.myProfileForm.controls.hasOwnProperty(n)&&this.myProfileForm.controls[n].invalid&&console.log(`Invalid field: ${n}`);this.myProfileForm.valid?(this.formData.updated=(new Date).toISOString(),this.formData.phone=this.userPhone,this.userData.userDtoForUpdate=this.formData,console.log(this.userData),this.userService.apiUserUpdatePut(this.userData).subscribe({next:n=>{this.toastr.success("Personal details updated successfully","",{timeOut:3e3,positionClass:"toast-top-center"}),this.scrollToTop(),this.sharedService.setUserUpdate(!0),this.refreshUser()},error:n=>{}})):this.scrollToTop()}reFetchData(){this.userService.apiUserGetUserByUserNameGet(this.sessionService.userEmail).subscribe({next:n=>{this.formData=n.value[0],this.userPhone=this.formData.phone?this.formData.phone:"",this.userTypeId=this.formData.userTypeId?.toString()},error:n=>{}})}ngOnInit(){this.userService.apiUserGetUserByUserNameGet(this.sessionService.userEmail).subscribe({next:n=>{this.formData=n.value[0],this.userPhone=this.formData.phone?this.formData.phone:"",this.userTypeId=this.formData.userTypeId?.toString(),this.isLoaded=!0,this.isError=!1},error:n=>{console.log(n),this.isLoaded=!0,this.isError=!0,this.error="Some error occured"}}),this.consultancyService.apiConsultancyConsultancyByIdGet(this.sessionService.consultancyId).subscribe({next:n=>{this.companyData=n.value},error:n=>{console.log(n)}})}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(p.KD),e.Y36(p.pp),e.Y36(_.e),e.Y36(u.m),e.Y36(x.F),e.Y36(f._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["personal-details"]],viewQuery:function(n,r){if(1&n&&(e.Gf(P,5),e.Gf(M,5)),2&n){let i;e.iGM(i=e.CRH())&&(r.myProfileForm=i.first),e.iGM(i=e.CRH())&&(r.telInput=i.first)}},decls:4,vars:3,consts:[[1,"personal-details-wrapper"],[4,"ngIf"],["class","mt-2 alert alert-danger",4,"ngIf"],["class","d-flex justify-content-end text-primary mb-3",3,"click",4,"ngIf"],["name","myProfileForm","novalidate","",3,"ngSubmit"],["myProfileForm","ngForm"],[1,"row"],[1,"col-md-6"],[1,"input-box"],[1,"form-group"],["for","firstName"],[1,"req"],["type","text","placeholder","Name","name","firstName","required","","autocomplete","off",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","mt-2",4,"ngIf"],["for","lastName"],["type","text","placeholder","Name","name","lastName","required","","autocomplete","off",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-sm-6"],[1,"input-box","search-box"],["fieldName","consultancyId","fieldText","Company Name","fieldType","name","fieldPlaceholder","Enter",3,"fieldRequired","fieldDisabled","fieldList","isEdit","editValue","queryChange","inputChange"],["class","mb-3",4,"ngIf"],["for","email"],["type","email","id","email","name","email","placeholder","Email","pattern","[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}$","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","companyUrl"],["type","text","placeholder","Name","name","companyUrl","required","","autocomplete","off",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"phoneNumber","edit","phoneNumberChange"],["for","alternateEmail"],["type","email","id","alternateEmail","name","alternateEmail","placeholder","Email","pattern","[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}$",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-md-12"],[1,"input-box","role-box"],[1,"list","d-md-flex"],[1,"form-check","item"],["type","radio","name","recruiter","id","recruiter","value","1",1,"form-check-input",3,"ngModel","required","disabled","ngModelChange","change"],["for","recruiter",1,"form-check-label"],["type","radio","name","benchSales","id","benchSales","value","2",1,"form-check-input",3,"ngModel","required","disabled","ngModelChange","change"],["for","benchSales",1,"form-check-label"],["type","radio","name","recruitBenchSales","id","recruitBenchSales","value","3",1,"form-check-input",3,"ngModel","required","disabled","ngModelChange","change"],["for","recruitBenchSales",1,"form-check-label"],["class","submit-box",4,"ngIf"],[1,"d-flex","justify-content-end","text-primary","mb-3",3,"click"],[1,"d-flex","align-items-center","pointer","ms-auto"],[1,"material-symbols-outlined","text-normal","me-2"],[1,"mt-2"],["class","input-field-message",4,"ngIf"],[1,"input-field-message"],[1,"mb-3"],[1,"submit-box"],["type","submit",1,"btn","submit-btn","btn-primary"],[1,"btn","btn-outline-dark",3,"click"],[1,"mt-2","alert","alert-danger"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.YNc(1,T,1,0,"loader",1),e.YNc(2,z,74,34,"ng-container",1),e.YNc(3,G,2,1,"div",2),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",!r.isLoaded),e.xp6(1),e.Q6J("ngIf",r.isLoaded),e.xp6(1),e.Q6J("ngIf",r.isError))},dependencies:[c.O5,l._Y,l.Fj,l._,l.JJ,l.JL,l.Q7,l.c5,l.On,l.F,v.r,w.r,h.R],styles:[".text-nano[_ngcontent-%COMP%]{font-size:10px}.text-xs[_ngcontent-%COMP%]{font-size:12px}.text-smr[_ngcontent-%COMP%]{font-size:13px}.text-sm[_ngcontent-%COMP%]{font-size:14px}.text-base[_ngcontent-%COMP%]{font-size:18px}.text-normal[_ngcontent-%COMP%]{font-size:16px}.text-regular[_ngcontent-%COMP%]{font-size:15px}h6[_ngcontent-%COMP%], .text-h6[_ngcontent-%COMP%]{font-size:20px}h5[_ngcontent-%COMP%], .text-h5[_ngcontent-%COMP%]{font-size:22px}h4[_ngcontent-%COMP%], .text-h4[_ngcontent-%COMP%]{font-size:24px}h3[_ngcontent-%COMP%], .text-h3[_ngcontent-%COMP%]{font-size:30px}h2[_ngcontent-%COMP%], .text-h2[_ngcontent-%COMP%]{font-size:34px}h1[_ngcontent-%COMP%], .text-h1[_ngcontent-%COMP%]{font-size:36px}.text-huge[_ngcontent-%COMP%]{font-size:50px}.text-big[_ngcontent-%COMP%]{font-size:38px}.ft-head[_ngcontent-%COMP%]{font-family:Metropolis,sans-serif;letter-spacing:.5px}.ft-default[_ngcontent-%COMP%]{font-family:Albert Sans,sans-serif;font-weight:400;letter-spacing:.2px}.ft-sp[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif}.fw-light[_ngcontent-%COMP%]{font-weight:300}.fw-normal[_ngcontent-%COMP%]{font-weight:400}.fw-medium[_ngcontent-%COMP%]{font-weight:500}.fw-semibold[_ngcontent-%COMP%]{font-weight:600}.fw-bold[_ngcontent-%COMP%]{font-weight:700}.ls--2[_ngcontent-%COMP%]{letter-spacing:.2px}.ls--25[_ngcontent-%COMP%]{letter-spacing:.25px}.ls--4[_ngcontent-%COMP%]{letter-spacing:.4px}.ls--15[_ngcontent-%COMP%]{letter-spacing:1.5px}.lh-14[_ngcontent-%COMP%]{line-height:14px}.lh-18[_ngcontent-%COMP%]{line-height:18px}.personal-details-wrapper[_ngcontent-%COMP%]   .role-box[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-bottom:0}.personal-details-wrapper[_ngcontent-%COMP%]   .role-box[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:not(:last-child){margin-right:12px}@media (max-width: 991px){.personal-details-wrapper[_ngcontent-%COMP%]   .role-box[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin:14px 0 0}.personal-details-wrapper[_ngcontent-%COMP%]   .role-box[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}}.personal-details-wrapper[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{margin:0 14px 0 0}"]}),s})();const K=["changePasswordForm"];function k(t,s){1&t&&e._UZ(0,"loader")}function L(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," Old password is required. "),e.qZA())}function R(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," Old password must be at least 6 characters long "),e.qZA())}function B(t,s){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,L,2,0,"div",18),e.YNc(2,R,2,0,"div",18),e.qZA()),2&t){e.oxw();const o=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==o.controls.oldPassword.errors?null:o.controls.oldPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.controls.oldPassword.errors?null:o.controls.oldPassword.errors.minlength)}}function j(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," New password is required. "),e.qZA())}function W(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," New password must be at least 6 characters long "),e.qZA())}function X(t,s){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,j,2,0,"div",18),e.YNc(2,W,2,0,"div",18),e.qZA()),2&t){e.oxw();const o=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==o.controls.newPassword.errors?null:o.controls.newPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.controls.newPassword.errors?null:o.controls.newPassword.errors.minlength)}}function $(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," Confirm new password is required. "),e.qZA())}function V(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," New password did not match "),e.qZA())}function ee(t,s){if(1&t&&(e.TgZ(0,"div",17),e.YNc(1,$,2,0,"div",18),e.YNc(2,V,2,0,"div",18),e.qZA()),2&t){e.oxw();const o=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==o.controls.confirmPassword.errors?null:o.controls.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.controls.confirmPassword.errors?null:o.controls.confirmPassword.errors.passwordMismatch)}}function ne(t,s){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.changePassword())}),e.TgZ(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"label",8),e._uU(8,"Old Password"),e.qZA(),e.TgZ(9,"div",9)(10,"input",10),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.formData.oldPassword=r)}),e.qZA(),e.TgZ(11,"span",11),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.showOldPassword=!r.showOldPassword)}),e._uU(12),e.qZA()(),e.YNc(13,B,3,2,"div",12),e.qZA()(),e.TgZ(14,"div",6)(15,"div",7)(16,"label",8),e._uU(17,"New Password (6+ Characters)"),e.qZA(),e.TgZ(18,"div",9)(19,"input",13),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.formData.newPassword=r)}),e.qZA(),e.TgZ(20,"span",11),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.showNewPassword=!r.showNewPassword)}),e._uU(21),e.qZA()(),e.YNc(22,X,3,2,"div",12),e.qZA()(),e.TgZ(23,"div",6)(24,"div",7)(25,"label",8),e._uU(26,"Confirm New Password"),e.qZA(),e.TgZ(27,"div",9)(28,"input",14),e.NdJ("ngModelChange",function(r){e.CHM(o);const i=e.oxw();return e.KtG(i.formData.confirmPassword=r)})("ngModelChange",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.validatePasswords())}),e.qZA(),e.TgZ(29,"span",11),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.showConfirmPassword=!r.showConfirmPassword)}),e._uU(30),e.qZA()()(),e.YNc(31,ee,3,2,"div",12),e.qZA(),e.TgZ(32,"div",15)(33,"button",16),e._uU(34,"Save"),e.qZA()()()()(),e.BQk()}if(2&t){const o=e.MAs(2),n=e.oxw();e.xp6(10),e.Q6J("type",n.showOldPassword?"text":"password")("ngModel",n.formData.oldPassword),e.xp6(2),e.hij(" ",n.showOldPassword?"visibility_off":"visibility"," "),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.oldPassword.invalid),e.xp6(6),e.Q6J("type",n.showNewPassword?"text":"password")("ngModel",n.formData.newPassword),e.xp6(2),e.hij(" ",n.showNewPassword?"visibility_off":"visibility"," "),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.newPassword.invalid),e.xp6(6),e.Q6J("type",n.showConfirmPassword?"text":"password")("ngModel",n.formData.confirmPassword),e.xp6(2),e.hij(" ",n.showConfirmPassword?"visibility_off":"visibility"," "),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.confirmPassword.invalid)}}let te=(()=>{var t;class s{constructor(n,r,i){this.userService=n,this.sessionService=r,this.toastr=i,this.isLoaded=!1,this.isError=!1,this.error="",this.showOldPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.formData={oldPassword:"",newPassword:"",confirmPassword:""}}validatePasswords(){this.changePasswordForm.controls.confirmPassword.setErrors(this.changePasswordForm.value.newPassword!==this.changePasswordForm.value.confirmPassword?{passwordMismatch:!0}:null)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}changePassword(){for(const n in this.changePasswordForm.controls)this.changePasswordForm.controls.hasOwnProperty(n)&&this.changePasswordForm.controls[n].invalid&&console.log(`Invalid field: ${n}`);this.changePasswordForm.valid?this.userService.apiUserUpdatePasswordPut(this.sessionService.userEmail,this.formData.newPassword).subscribe({next:()=>{this.toastr.success("Password updated successfully","",{timeOut:3e3,positionClass:"toast-top-center"}),this.changePasswordForm.resetForm(),this.fetchData(),this.scrollToTop()}}):this.scrollToTop()}fetchData(){this.userService.apiUserGetUserByUserNameGet(this.sessionService.userEmail).subscribe({next:n=>{this.formData.oldPassword=n.value[0].password,this.isLoaded=!0,this.isError=!1},error:n=>{console.log(n),this.isLoaded=!0,this.isError=!0,this.error="Some error occured"}})}ngOnInit(){this.fetchData()}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(p.KD),e.Y36(u.m),e.Y36(f._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["change-password"]],viewQuery:function(n,r){if(1&n&&e.Gf(K,5),2&n){let i;e.iGM(i=e.CRH())&&(r.changePasswordForm=i.first)}},decls:3,vars:2,consts:[[1,"change-password-wrapper"],[4,"ngIf"],[3,"ngSubmit"],["changePasswordForm","ngForm"],[1,"row"],[1,"col-md-8","col-lg-6"],[1,"input-box"],[1,"form-group"],["for","password"],[1,"input-group"],["id","oldPassword","name","oldPassword","placeholder","Password","required","","minlength","6",1,"form-control",3,"type","ngModel","ngModelChange"],["id","basic-addon2",1,"material-symbols-outlined","input-group-text","text-h6","text-dark-500",3,"click"],["class","mt-2",4,"ngIf"],["id","newPassword","name","newPassword","placeholder","Password","required","","minlength","6",1,"form-control",3,"type","ngModel","ngModelChange"],["id","confirmPassword","name","confirmPassword","placeholder","Password","required","",1,"form-control",3,"type","ngModel","ngModelChange"],[1,"submit-box","mt-5"],["type","submit",1,"btn","btn-primary"],[1,"mt-2"],["class","input-field-message",4,"ngIf"],[1,"input-field-message"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.YNc(1,k,1,0,"loader",1),e.YNc(2,ne,35,12,"ng-container",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",!r.isLoaded),e.xp6(1),e.Q6J("ngIf",r.isLoaded))},dependencies:[c.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.wO,l.On,l.F,h.R]}),s})();const oe=[{path:"",component:(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-my-account"]],decls:17,vars:0,consts:[[1,"my-account-wrapper"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-white"],["role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["href","#profile-details","role","tab","data-bs-toggle","tab",1,"nav-link","active"],["href","#profile-password","role","tab","data-bs-toggle","tab",1,"nav-link"],[1,"tab-content"],["role","tabpanel","id","profile-details",1,"tab-pane","fade","show","active"],["role","tabpanel","id","profile-password",1,"tab-pane","fade"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),e._uU(8,"Personal Details"),e.qZA()(),e.TgZ(9,"li",6)(10,"a",8),e._uU(11,"Change Password"),e.qZA()()(),e.TgZ(12,"div",9)(13,"div",10),e._UZ(14,"personal-details"),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"change-password"),e.qZA()()()()()()())},dependencies:[H,te],styles:[".text-nano{font-size:10px}.text-xs{font-size:12px}.text-smr{font-size:13px}.text-sm{font-size:14px}.text-base{font-size:18px}.text-normal{font-size:16px}.text-regular{font-size:15px}h6,.text-h6{font-size:20px}h5,.text-h5{font-size:22px}h4,.text-h4{font-size:24px}h3,.text-h3{font-size:30px}h2,.text-h2{font-size:34px}h1,.text-h1{font-size:36px}.text-huge{font-size:50px}.text-big{font-size:38px}.ft-head{font-family:Metropolis,sans-serif;letter-spacing:.5px}.ft-default{font-family:Albert Sans,sans-serif;font-weight:400;letter-spacing:.2px}.ft-sp{font-family:Catamaran,sans-serif}.fw-light{font-weight:300}.fw-normal{font-weight:400}.fw-medium{font-weight:500}.fw-semibold{font-weight:600}.fw-bold{font-weight:700}.ls--2{letter-spacing:.2px}.ls--25{letter-spacing:.25px}.ls--4{letter-spacing:.4px}.ls--15{letter-spacing:1.5px}.lh-14{line-height:14px}.lh-18{line-height:18px}.my-account-wrapper .panel .tab-content{padding:24px}\n"],encapsulation:2}),s})()}];let re=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(oe),d.Bz]}),s})(),se=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,g.m.forRoot(),re]}),s})()}}]);