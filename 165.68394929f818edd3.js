"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[165],{2582:(P,C,s)=>{s.d(C,{R:()=>p});var f=s(5879);let p=(()=>{var o;class c{}return(o=c).\u0275fac=function(g){return new(g||o)},o.\u0275cmp=f.Xpm({type:o,selectors:[["loader"]],decls:3,vars:0,consts:[[1,"loader-wrapper"],[1,"loader-area"],[1,"pre-loader"]],template:function(g,y){1&g&&(f.TgZ(0,"div",0)(1,"div",1),f._UZ(2,"div",2),f.qZA()())},styles:['.loader-wrapper[_ngcontent-%COMP%]{margin:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]{position:relative;display:flex;padding:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]{position:absolute;inset:0;width:60px;height:60px;margin:auto}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before, .loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-width:5px;border-style:solid;border-color:#1259a4;border-radius:100%}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before{opacity:.5}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{border-color:#1259a4 transparent transparent;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_blob-bottom{25%,50%,75%{top:50%;left:100%}to{top:0;left:50%}}@keyframes _ngcontent-%COMP%_blob-left{25%{top:50%;left:0}50%,to{top:100%;left:50%}}@keyframes _ngcontent-%COMP%_blob-top{50%{top:0;left:50%}75%,to{top:50%;left:0}}@keyframes _ngcontent-%COMP%_blob-spinner-mover{0%,to{top:0;left:50%}25%{top:50%;left:100%}50%{top:100%;left:50%}75%{top:50%;left:0}}']}),c})()},3838:(P,C,s)=>{if(s.d(C,{N:()=>g,x:()=>y}),typeof window>"u")throw new Error("[TalkJS] The TalkJS JavaScript SDK only works in browsers (and not, for example, in Node.js)");var i,m,h,e,d;i=window,m=document,h=[],(d=m.createElement("script")).async=1,d.src="https://cdn.talkjs.com/talk.js",m.head.appendChild(d),e=i.Promise,i.Talk={v:3,ready:{then:function(t){if(e)return new e(function(l,u){h.push([t,l,u])});h.push([t])},catch:function(){return e&&new e},c:h}};const p=window.Talk;var o=s(9900),c=s(5879),n=s(930);let g=(()=>{var i;class m{constructor(e){this.sessionService=e,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}onClick(e){this.popup&&this.popup.destroy(),this.popup=this.session.createPopup(),this.popup.select(this.conversation),this.popup.mount(),setTimeout(()=>{this.talkElementLanucher=document.querySelector("#__talkjs_launcher"),this.talkElementLanucher.addEventListener("click",r=>{this.talkElementLanucher.parentNode.remove()})},1e3)}initChat(e){let r={};this.sessionService.userId?this.sessionService.userdetailscast.subscribe(t=>{this.user=t,r=new p.User({id:this.user.id,name:`${this.user.fname} ${this.user.lname}`,photoUrl:this.user.profilePic?`${o.xY}${this.user.profilePic}`:o.Ov,role:1==this.user.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:this.user.consultancyUsers[0].consultancy.name,profileUrl:`${o.Eu}${this.user.consultancyUsers[0].publicProfileUserName}`}})}):r=new p.User({id:this.generateRandomId(),name:"user",photoUrl:`${o.Ov}`,role:" "});const d=new p.User({id:e.userId,name:`${e.userFName} ${e.userLName}`,photoUrl:`${o.xY}${e.profilePic}`,welcomeMessage:"Hey there! How are you? :-)",role:"Recruiter",custom:{companyName:e.companyName,profileUrl:`${o.Eu}${e.profileUserName}`}});this.session=new p.Session({appId:this.APP_ID,me:r}),this.conversation=this.session.getOrCreateConversation(p.oneOnOneId(r,d)),this.conversation.setParticipant(r),this.conversation.setParticipant(d)}ngOnChanges(){this.chatUser&&this.initChat(this.chatUser)}}return(i=m).\u0275fac=function(e){return new(e||i)(c.Y36(n.m))},i.\u0275dir=c.lG2({type:i,selectors:[["",8,"chat-btn"]],hostBindings:function(e,r){1&e&&c.NdJ("click",function(t){return r.onClick(t)})},inputs:{chatUser:"chatUser"},features:[c.TTD]}),m})(),y=(()=>{var i;class m{constructor(e){this.element=e,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}initInbox(e,r){const d=e.consultancyUsers[0].consultancy.name,t=`${o.Eu}${e.consultancyUsers[0].publicProfileUserName}`,a=new p.User({id:r.id,name:`${r.fname} ${r.lname}`,photoUrl:`${o.xY}${r.profilePic}`,welcomeMessage:"Hey there! How are you? :-)",role:1==r.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:r.consultancyUsers[0].consultancy.name,profileUrl:`${o.Eu}${r.consultancyUsers[0].publicProfileUserName}`}}),v=new p.User({id:e.id,name:`${e.fname} ${e.lname}`,photoUrl:e.profilePic?`${o.xY}${e.profilePic}`:o.Ov,role:1==e.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:d,profileUrl:t}});this.session=new p.Session({appId:this.APP_ID,me:v}),this.conversation=this.session.getOrCreateConversation(p.oneOnOneId(v,a)),this.conversation.setParticipant(a),this.conversation.setParticipant(v);const M=this.session.createInbox();M.select(this.conversation),M.mount(this.element.nativeElement)}ngOnChanges(){this.user&&this.chatUser&&this.initInbox(this.user,this.chatUser)}}return(i=m).\u0275fac=function(e){return new(e||i)(c.Y36(c.SBq))},i.\u0275dir=c.lG2({type:i,selectors:[["","id","inboxcontainer"]],inputs:{user:"user",chatUser:"chatUser"},features:[c.TTD]}),m})()},9165:(P,C,s)=>{s.r(C),s.d(C,{MessagesModule:()=>d});var f=s(6814),p=s(5214),o=s(8524),c=s(1331),n=s(5879),g=s(9945),y=s(930),i=s(3838),m=s(2582);const e=[{path:"",component:(()=>{var t;class l{constructor(a,v){this.userService=a,this.sessionService=v}ngOnInit(){this.userService.apiUserGetUserByUserNameGet("kannantest32@gmail.com").subscribe({next:a=>{this.chatUser=a.value[0]},error:()=>{}}),this.sessionService.userdetailscast.subscribe(a=>{this.user=a})}}return(t=l).\u0275fac=function(a){return new(a||t)(n.Y36(g.KD),n.Y36(y.m))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-messages"]],decls:9,vars:2,consts:[[1,"messages-wrapper"],[1,"container"],[1,"row"],[1,"col-md-8"],["id","inboxContainer",1,"messages-box",3,"user","chatUser"],[1,"col-md-4"],[1,"placeholder"],["src","https://placehold.co/600x400/png","alt",""]],template:function(a,v){1&a&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),n._UZ(5,"loader"),n.qZA()(),n.TgZ(6,"div",5)(7,"div",6),n._UZ(8,"img",7),n.qZA()()()()()),2&a&&(n.xp6(4),n.Q6J("user",v.user)("chatUser",v.chatUser))},dependencies:[i.x,m.R]}),l})()}];let r=(()=>{var t;class l{}return(t=l).\u0275fac=function(a){return new(a||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[c.Bz.forChild(e),c.Bz]}),l})(),d=(()=>{var t;class l{}return(t=l).\u0275fac=function(a){return new(a||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[f.ez,p.B,o.m.forRoot(),r]}),l})()}}]);