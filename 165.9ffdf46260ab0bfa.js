"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[165],{2582:(U,P,s)=>{s.d(P,{R:()=>v});var i=s(5879);let v=(()=>{var c;class l{}return(c=l).\u0275fac=function(t){return new(t||c)},c.\u0275cmp=i.Xpm({type:c,selectors:[["loader"]],decls:3,vars:0,consts:[[1,"loader-wrapper"],[1,"loader-area"],[1,"pre-loader"]],template:function(t,M){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"div",2),i.qZA()())},styles:['.loader-wrapper[_ngcontent-%COMP%]{margin:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]{position:relative;display:flex;padding:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]{position:absolute;inset:0;width:60px;height:60px;margin:auto}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before, .loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-width:5px;border-style:solid;border-color:#1259a4;border-radius:100%}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before{opacity:.5}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{border-color:#1259a4 transparent transparent;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_blob-bottom{25%,50%,75%{top:50%;left:100%}to{top:0;left:50%}}@keyframes _ngcontent-%COMP%_blob-left{25%{top:50%;left:0}50%,to{top:100%;left:50%}}@keyframes _ngcontent-%COMP%_blob-top{50%{top:0;left:50%}75%,to{top:50%;left:0}}@keyframes _ngcontent-%COMP%_blob-spinner-mover{0%,to{top:0;left:50%}25%{top:50%;left:100%}50%{top:100%;left:50%}75%{top:50%;left:0}}']}),l})()},3226:(U,P,s)=>{s.d(P,{N:()=>O,x:()=>y});var r,d,m,e,u,i=s(5879);if(typeof window>"u")throw new Error("[TalkJS] The TalkJS JavaScript SDK only works in browsers (and not, for example, in Node.js)");r=window,d=document,m=[],(u=d.createElement("script")).async=1,u.src="https://cdn.talkjs.com/talk.js",d.head.appendChild(u),e=r.Promise,r.Talk={v:3,ready:{then:function(n){if(e)return new e(function(p,h){m.push([n,p,h])});m.push([n])},catch:function(){return e&&new e},c:m}};const c=window.Talk;var l=s(9900),f=s(9862);let t=(()=>{var r;class d{constructor(e){this.http=e,this.APP_ID="tKzUD2dn"}fetchUsers(e){return this.http.get("https://api.talkjs.com/v1/tKzUD2dn/presences")}}return(r=d).\u0275fac=function(e){return new(e||r)(i.LFG(f.eN))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),d})();var M=s(930),x=s(2742);let O=(()=>{var r;class d{constructor(e,a){this.talkService=e,this.sessionService=a,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}onClick(e){this.popup&&this.popup.destroy(),this.initChat(this.chatUser),this.popup=this.session.createPopup(),this.popup.select(this.conversation),this.popup.mount(),setTimeout(()=>{this.talkElementLanucher=document.querySelector("#__talkjs_launcher"),this.talkElementLanucher.addEventListener("click",a=>{this.talkElementLanucher.parentNode.remove()})},1e3)}initChat(e){let a={};this.sessionService.userId?this.sessionService.userdetailscast.subscribe(n=>{this.user=n,a=new c.User({id:this.user.id,name:`${this.user.fname} ${this.user.lname}`,photoUrl:this.user.profilePic?`${l.xY}${this.user.profilePic}`:l.Ov,role:"PremiumRecruiters",custom:{companyName:this.user.consultancyUsers[0].consultancy.name,profileUrl:`${l.Eu}${this.user.consultancyUsers[0].publicProfileUserName}`}})}):a=new c.User({id:this.generateRandomId(),name:"user",photoUrl:`${l.Ov}`,role:"PremiumRecruiters"}),this.userId=e.userId;const u=new c.User({id:e.userId,name:`${e.userFName} ${e.userLName}`,photoUrl:`${l.xY}${e.profilePic}`,role:"PremiumRecruiters",custom:{companyName:e.companyName,profileUrl:`${l.Eu}${e.profileUserName}`}});this.session=new c.Session({appId:this.APP_ID,me:a}),this.conversation=this.session.getOrCreateConversation(c.oneOnOneId(a,u)),this.conversation.setParticipant(a),this.conversation.setParticipant(u),this.talkService.fetchUsers(this.userId).subscribe(n=>{console.log(n)})}ngOnChanges(){}}return(r=d).\u0275fac=function(e){return new(e||r)(i.Y36(t),i.Y36(M.m))},r.\u0275dir=i.lG2({type:r,selectors:[["",8,"chat-btn"]],hostBindings:function(e,a){1&e&&i.NdJ("click",function(n){return a.onClick(n)})},inputs:{chatUser:"chatUser"},features:[i.TTD]}),d})(),y=(()=>{var r;class d{constructor(e,a){this.element=e,this.sharedService=a,this.onUnreadEvent=new i.vpe,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}initInbox(e,a){const u=e.consultancyUsers[0].consultancy.name,n=`${l.Eu}${e.consultancyUsers[0].publicProfileUserName}`,o=new c.User({id:a.id,name:`${a.fname} ${a.lname}`,photoUrl:`${l.xY}${a.profilePic}`,role:"PremiumRecruiters",custom:{companyName:a.consultancyUsers[0].consultancy.name,profileUrl:`${l.Eu}${a.consultancyUsers[0].publicProfileUserName}`}}),g=new c.User({id:e.id,name:`${e.fname} ${e.lname}`,photoUrl:e.profilePic?`${l.xY}${e.profilePic}`:l.Ov,role:"PremiumRecruiters",custom:{companyName:u,profileUrl:n}});this.session=new c.Session({appId:this.APP_ID,me:g}),this.conversation=this.session.getOrCreateConversation(c.oneOnOneId(g,o)),this.conversation.setParticipant(o),this.conversation.setParticipant(g);const C=this.session.createInbox();C.select(this.conversation);const b=this.element.nativeElement.querySelector(".message-area");C.mount(b),this.session.unreads.on("change",_=>{this.sharedService.setInboxUnReadCount(_)})}ngOnChanges(){this.user&&this.chatUser&&this.initInbox(this.user,this.chatUser)}}return(r=d).\u0275fac=function(e){return new(e||r)(i.Y36(i.SBq),i.Y36(x.F))},r.\u0275dir=i.lG2({type:r,selectors:[["","id","inboxcontainer"]],inputs:{user:"user",chatUser:"chatUser"},outputs:{onUnreadEvent:"onUnreadEvent"},features:[i.TTD]}),d})()},9165:(U,P,s)=>{s.r(P),s.d(P,{MessagesModule:()=>u});var i=s(6814),v=s(5214),c=s(8524),l=s(1331),f=s(1670),t=s(5879),M=s(9945),x=s(2742),O=s(930),y=s(3226),r=s(2582);const d=["inboxContainer"],e=[{path:"",component:(()=>{var n;class p{constructor(o,g,C){this.userService=o,this.sharedService=g,this.sessionService=C,this.uneadCount=0}handleUnread(o){this.uneadCount=f.ZP.isEmpty(o)?0:o[0]?.unreadMessageCount}ngOnInit(){this.userService.apiUserGetUserByUserNameGet("kannantest32@gmail.com").subscribe({next:o=>{this.chatUser=o.value[0]},error:()=>{}}),this.sharedService.inboxunreadcountcast.subscribe(o=>{this.uneadCount=f.ZP.isEmpty(o)?0:o[0]?.unreadMessageCount}),this.sessionService.userdetailscast.subscribe(o=>{this.user=o})}}return(n=p).\u0275fac=function(o){return new(o||n)(t.Y36(M.KD),t.Y36(x.F),t.Y36(O.m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-messages"]],viewQuery:function(o,g){if(1&o&&t.Gf(d,5),2&o){let C;t.iGM(C=t.CRH())&&(g.inboxContainer=C.first)}},decls:15,vars:3,consts:[[1,"messages-wrapper"],[1,"container"],[1,"row"],[1,"col-sm-12","col-lg-9"],["id","inboxContainer",1,"messages-box",3,"user","chatUser"],["inboxContainer",""],[1,"title","mb-3"],[1,"message-area"],[1,"col-sm-12","col-lg-3"],[1,"placeholder-box"],["src","https://placehold.co/300x600/png","alt","",1,"d-none","d-lg-block"],[1,"d-lg-none","text-center"],["src","https://placehold.co/360x360/png","alt",""]],template:function(o,g){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5)(6,"h6",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"loader"),t.qZA()()(),t.TgZ(10,"div",8)(11,"div",9),t._UZ(12,"img",10),t.TgZ(13,"div",11),t._UZ(14,"img",12),t.qZA()()()()()()),2&o&&(t.xp6(4),t.Q6J("user",g.user)("chatUser",g.chatUser),t.xp6(3),t.hij("You have ",g.uneadCount," unread conversations "))},dependencies:[y.x,r.R],styles:[".shadow[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important}.rounded[_ngcontent-%COMP%]{border-radius:6px!important}.rounded-md[_ngcontent-%COMP%]{border-radius:8px!important}.rounded-lg[_ngcontent-%COMP%]{border-radius:10px!important}.rounded-xl[_ngcontent-%COMP%]{border-radius:15px!important}.op-50[_ngcontent-%COMP%]{opacity:.5}.text-nano[_ngcontent-%COMP%]{font-size:10px}.text-xs[_ngcontent-%COMP%]{font-size:12px}.text-smr[_ngcontent-%COMP%]{font-size:13px}.text-sm[_ngcontent-%COMP%]{font-size:14px}.text-base[_ngcontent-%COMP%]{font-size:18px}.text-normal[_ngcontent-%COMP%]{font-size:16px}.text-regular[_ngcontent-%COMP%]{font-size:15px}h6[_ngcontent-%COMP%], .text-h6[_ngcontent-%COMP%]{font-size:20px}h5[_ngcontent-%COMP%], .text-h5[_ngcontent-%COMP%]{font-size:22px}h4[_ngcontent-%COMP%], .text-h4[_ngcontent-%COMP%]{font-size:24px}h3[_ngcontent-%COMP%], .text-h3[_ngcontent-%COMP%]{font-size:30px}h2[_ngcontent-%COMP%], .text-h2[_ngcontent-%COMP%]{font-size:34px}h1[_ngcontent-%COMP%], .text-h1[_ngcontent-%COMP%]{font-size:36px}.text-huge[_ngcontent-%COMP%]{font-size:50px}.text-big[_ngcontent-%COMP%]{font-size:38px}.ft-head[_ngcontent-%COMP%]{font-family:Metropolis,sans-serif;letter-spacing:.5px}.ft-default[_ngcontent-%COMP%]{font-family:Albert Sans,sans-serif;font-weight:400;letter-spacing:.2px}.ft-sp[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif}.fw-light[_ngcontent-%COMP%]{font-weight:300}.fw-normal[_ngcontent-%COMP%]{font-weight:400}.fw-medium[_ngcontent-%COMP%]{font-weight:500}.fw-semibold[_ngcontent-%COMP%]{font-weight:600}.fw-bold[_ngcontent-%COMP%]{font-weight:700}.ls--2[_ngcontent-%COMP%]{letter-spacing:.2px}.ls--25[_ngcontent-%COMP%]{letter-spacing:.25px}.ls--4[_ngcontent-%COMP%]{letter-spacing:.4px}.ls--15[_ngcontent-%COMP%]{letter-spacing:1.5px}.lh-14[_ngcontent-%COMP%]{line-height:14px}.lh-18[_ngcontent-%COMP%]{line-height:18px}@media (max-width: 991px){.messages-wrapper[_ngcontent-%COMP%]   .placeholder-box[_ngcontent-%COMP%]{margin:30px 0 0}}"]}),p})()}];let a=(()=>{var n;class p{}return(n=p).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(e),l.Bz]}),p})(),u=(()=>{var n;class p{}return(n=p).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[i.ez,v.B,c.m.forRoot(),a]}),p})()}}]);