"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[165],{2582:(O,C,o)=>{o.d(C,{R:()=>M});var c=o(5879);let M=(()=>{var a;class i{}return(a=i).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=c.Xpm({type:a,selectors:[["loader"]],decls:3,vars:0,consts:[[1,"loader-wrapper"],[1,"loader-area"],[1,"pre-loader"]],template:function(n,U){1&n&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.qZA()())},styles:['.loader-wrapper[_ngcontent-%COMP%]{margin:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]{position:relative;display:flex;padding:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]{position:absolute;inset:0;width:60px;height:60px;margin:auto}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before, .loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-width:5px;border-style:solid;border-color:#1259a4;border-radius:100%}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before{opacity:.5}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{border-color:#1259a4 transparent transparent;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_blob-bottom{25%,50%,75%{top:50%;left:100%}to{top:0;left:50%}}@keyframes _ngcontent-%COMP%_blob-left{25%{top:50%;left:0}50%,to{top:100%;left:50%}}@keyframes _ngcontent-%COMP%_blob-top{50%{top:0;left:50%}75%,to{top:50%;left:0}}@keyframes _ngcontent-%COMP%_blob-spinner-mover{0%,to{top:0;left:50%}25%{top:50%;left:100%}50%{top:100%;left:50%}75%{top:50%;left:0}}']}),i})()},3838:(O,C,o)=>{o.d(C,{N:()=>n,x:()=>U});var l,h,f,e,d,c=o(5879);if(typeof window>"u")throw new Error("[TalkJS] The TalkJS JavaScript SDK only works in browsers (and not, for example, in Node.js)");l=window,h=document,f=[],(d=h.createElement("script")).async=1,d.src="https://cdn.talkjs.com/talk.js",h.head.appendChild(d),e=l.Promise,l.Talk={v:3,ready:{then:function(v){if(e)return new e(function(g,t){f.push([v,g,t])});f.push([v])},catch:function(){return e&&new e},c:f}};const a=window.Talk;var i=o(9900),y=o(930);let n=(()=>{var l;class h{constructor(e){this.sessionService=e,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}onClick(e){this.popup&&this.popup.destroy(),this.popup=this.session.createPopup(),this.popup.select(this.conversation),this.popup.mount(),setTimeout(()=>{this.talkElementLanucher=document.querySelector("#__talkjs_launcher"),this.talkElementLanucher.addEventListener("click",r=>{this.talkElementLanucher.parentNode.remove()})},1e3)}initChat(e){let r={};this.sessionService.userId?this.sessionService.userdetailscast.subscribe(v=>{this.user=v,r=new a.User({id:this.user.id,name:`${this.user.fname} ${this.user.lname}`,photoUrl:this.user.profilePic?`${i.xY}${this.user.profilePic}`:i.Ov,role:1==this.user.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:this.user.consultancyUsers[0].consultancy.name,profileUrl:`${i.Eu}${this.user.consultancyUsers[0].publicProfileUserName}`}})}):r=new a.User({id:this.generateRandomId(),name:"user",photoUrl:`${i.Ov}`,role:" "});const d=new a.User({id:e.userId,name:`${e.userFName} ${e.userLName}`,photoUrl:`${i.xY}${e.profilePic}`,welcomeMessage:"Hey there! How are you? :-)",role:"Recruiter",custom:{companyName:e.companyName,profileUrl:`${i.Eu}${e.profileUserName}`}});this.session=new a.Session({appId:this.APP_ID,me:r}),this.conversation=this.session.getOrCreateConversation(a.oneOnOneId(r,d)),this.conversation.setParticipant(r),this.conversation.setParticipant(d)}ngOnChanges(){this.chatUser&&this.initChat(this.chatUser)}}return(l=h).\u0275fac=function(e){return new(e||l)(c.Y36(y.m))},l.\u0275dir=c.lG2({type:l,selectors:[["",8,"chat-btn"]],hostBindings:function(e,r){1&e&&c.NdJ("click",function(v){return r.onClick(v)})},inputs:{chatUser:"chatUser"},features:[c.TTD]}),h})(),U=(()=>{var l;class h{constructor(e){this.element=e,this.onUnreadEvent=new c.vpe,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}initInbox(e,r){const d=e.consultancyUsers[0].consultancy.name,v=`${i.Eu}${e.consultancyUsers[0].publicProfileUserName}`,p=new a.User({id:r.id,name:`${r.fname} ${r.lname}`,photoUrl:`${i.xY}${r.profilePic}`,welcomeMessage:"Hey there! How are you? :-)",role:1==r.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:r.consultancyUsers[0].consultancy.name,profileUrl:`${i.Eu}${r.consultancyUsers[0].publicProfileUserName}`}}),m=new a.User({id:e.id,name:`${e.fname} ${e.lname}`,photoUrl:e.profilePic?`${i.xY}${e.profilePic}`:i.Ov,role:1==e.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:d,profileUrl:v}});this.session=new a.Session({appId:this.APP_ID,me:m}),this.conversation=this.session.getOrCreateConversation(a.oneOnOneId(m,p)),this.conversation.setParticipant(p),this.conversation.setParticipant(m);const s=this.session.createInbox();s.select(this.conversation);const u=this.element.nativeElement.querySelector(".message-area");s.mount(u),this.session.unreads.on("change",P=>{this.onUnreadEvent.emit(P)})}ngOnChanges(){this.user&&this.chatUser&&this.initInbox(this.user,this.chatUser)}}return(l=h).\u0275fac=function(e){return new(e||l)(c.Y36(c.SBq))},l.\u0275dir=c.lG2({type:l,selectors:[["","id","inboxcontainer"]],inputs:{user:"user",chatUser:"chatUser"},outputs:{onUnreadEvent:"onUnreadEvent"},features:[c.TTD]}),h})()},9165:(O,C,o)=>{o.r(C),o.d(C,{MessagesModule:()=>g});var c=o(6814),M=o(5214),a=o(8524),i=o(1331),y=o(1670),n=o(5879),U=o(9945),l=o(930),h=o(3838),f=o(2582);const e=["inboxContainer"],d=[{path:"",component:(()=>{var t;class p{constructor(s,u){this.userService=s,this.sessionService=u,this.uneadCount=0}handleUnread(s){this.uneadCount=y.ZP.isEmpty(s)?0:s[0]?.unreadMessageCount}ngOnInit(){this.userService.apiUserGetUserByUserNameGet("kannantest32@gmail.com").subscribe({next:s=>{this.chatUser=s.value[0]},error:()=>{}}),this.sessionService.userdetailscast.subscribe(s=>{this.user=s})}}return(t=p).\u0275fac=function(s){return new(s||t)(n.Y36(U.KD),n.Y36(l.m))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-messages"]],viewQuery:function(s,u){if(1&s&&n.Gf(e,5),2&s){let P;n.iGM(P=n.CRH())&&(u.inboxContainer=P.first)}},decls:13,vars:5,consts:[[1,"messages-wrapper"],[1,"container"],[1,"row"],[1,"col-md-8"],["id","inboxContainer",1,"messages-box",3,"user","chatUser","onUnreadEvent"],["inboxContainer",""],[1,"title","mb-3"],[1,"message-area"],[1,"col-md-4"],[1,"placeholder"],["src","https://placehold.co/600x400/png","alt",""]],template:function(s,u){1&s&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5),n.NdJ("onUnreadEvent",function(b){return u.handleUnread(b)}),n.TgZ(6,"h6",6),n._uU(7),n.qZA(),n.TgZ(8,"div",7),n._UZ(9,"loader"),n.qZA()()(),n.TgZ(10,"div",8)(11,"div",9),n._UZ(12,"img",10),n.qZA()()()()()),2&s&&(n.xp6(4),n.Q6J("user",u.user)("chatUser",u.chatUser),n.xp6(3),n.lnq("Hi ",null==u.user?null:u.user.fname," ",null==u.user?null:u.user.lname,", you have ",u.uneadCount," unread conversations "))},dependencies:[h.x,f.R]}),p})()}];let v=(()=>{var t;class p{}return(t=p).\u0275fac=function(s){return new(s||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[i.Bz.forChild(d),i.Bz]}),p})(),g=(()=>{var t;class p{}return(t=p).\u0275fac=function(s){return new(s||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[c.ez,M.B,a.m.forRoot(),v]}),p})()}}]);