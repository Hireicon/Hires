"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[406],{5071:(w,I,f)=>{f.d(I,{v:()=>d});var e=f(5879),r=f(1331),E=f(9900),_=f(1670),M=f(9945),y=f(930),b=f(2742),T=f(9229),C=f(6814),g=f(6223),D=f(1967);const q=["multiInputElem"],A=["badgeListElem"];function N(i,a){1&i&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function J(i,a){if(1&i){const s=e.EpF();e.ynx(0),e.TgZ(1,"li",16),e.NdJ("click",function(){const l=e.CHM(s).$implicit,m=e.oxw(2);return e.KtG(m.handleSelectedItem(l))}),e._uU(2),e.qZA(),e.BQk()}if(2&i){const s=a.$implicit,t=e.oxw(2);e.xp6(2),e.Oqu(s[t.fieldType])}}function F(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14),e.YNc(2,J,3,1,"ng-container",15),e.qZA()()),2&i){const s=e.oxw();e.xp6(2),e.Q6J("ngForOf",s.fieldList)}}function V(i,a){if(1&i){const s=e.EpF();e.TgZ(0,"li",17)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"i",18),e.NdJ("click",function(){const l=e.CHM(s).$implicit,m=e.oxw();return e.KtG(m.removeBadge(l))}),e.qZA()()}if(2&i){const s=a.$implicit,t=e.oxw();e.xp6(2),e.Oqu(s[t.fieldType])}}const Q=function(i,a){return{"padding-left.px":i,"padding-top.px":a}};let R=(()=>{var i;class a{constructor(t){this.element=t,this.fieldItemMinLimit=0,this.fieldItemMaxLimit=99,this.selectedItem=[],this.isExpanded=!1,this.leftPadding=10,this.topPadding=4,this.inputChange=new e.vpe,this.isChecked=!1}isFieldRequired(){return this.fieldRequired}showFieldItems(){this.isExpanded=!0}compareObj(t,n){return JSON.stringify(t)===JSON.stringify(n)}pushObj(t,n){t.some(l=>this.compareObj(l,n))||t.push(n)}handleSelectedItem(t){this.selectedItem.length<this.fieldItemMaxLimit&&(this.pushObj(this.selectedItem,t),this.inputChange.emit(this.selectedItem),this.fieldModel="",this.isExpanded=!1,setTimeout(()=>{this.handleInputHeight()},100)),this.selectedItem.length==this.fieldItemMaxLimit&&setTimeout(()=>{this.fieldModel="",this.multiInputElem.nativeElement.blur()},100)}handleInputHeight(){let t=this.multiInputElem.nativeElement,n=this.badgeListElem.nativeElement;t.style.height=`${n.clientHeight+10}px`;const m=n.children[0].children,p=m[m.length-1];if(p){const x=p.offsetTop+2;this.leftPadding=p.offsetLeft+p.clientWidth+12,this.topPadding=x}else this.leftPadding=10,this.topPadding=4;t.focus()}removeBadge(t){this.fieldModel="",this.selectedItem=this.selectedItem.filter((n,l)=>n[this.fieldType]!==t[this.fieldType]),this.inputChange.emit(this.selectedItem),setTimeout(()=>{this.handleInputHeight()},100)}clearModel(){this.fieldModel="",this.checkRequired()}checkRequired(){return!(this.selectedItem.length>=this.fieldItemMinLimit)}onDocumentClick(t){t.stopPropagation();var n=this.element.nativeElement.querySelector(".select"),l=this.element.nativeElement.querySelector(".select-arrow");!n.contains(t.target)&&!l.contains(t.target)&&(this.isExpanded=!1)}getItemData(t){let n=this.fieldType.split(","),l="";return n.forEach((m,p)=>{l=`${l+t[m]}${p!==n.length-1?", ":""}`}),l}ngOnChanges(t){!_.ZP.isEmpty(this.editValue)&&!this.fieldModel&&_.ZP.isEmpty(this.selectedItem)&&(this.selectedItem=[],this.editValue.forEach(n=>{this.handleSelectedItem(n)}))}}return(i=a).\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-multi-select-field"]],viewQuery:function(t,n){if(1&t&&(e.Gf(q,5),e.Gf(A,5)),2&t){let l;e.iGM(l=e.CRH())&&(n.multiInputElem=l.first),e.iGM(l=e.CRH())&&(n.badgeListElem=l.first)}},hostBindings:function(t,n){1&t&&e.NdJ("click",function(m){return n.onDocumentClick(m)},!1,e.evT)},inputs:{fieldName:"fieldName",fieldText:"fieldText",fieldRequired:"fieldRequired",fieldPlaceholder:"fieldPlaceholder",fieldType:"fieldType",fieldModel:"fieldModel",fieldList:"fieldList",fieldItemMinLimit:"fieldItemMinLimit",fieldItemMaxLimit:"fieldItemMaxLimit",isEdit:"isEdit",editValue:"editValue"},outputs:{inputChange:"inputChange"},features:[e._Bn([],[{provide:g.gN,useExisting:g.F}]),e.TTD],decls:13,vars:14,consts:[[1,"form-group"],[3,"for"],["class","ms-2 font-medium",4,"ngIf"],[1,"select-wrapper",3,"click"],["type","text","autocomplete","off","readonly","",1,"form-control","select",3,"placeholder","name","ngModel","required","ngStyle","ngModelChange","blur"],["multiInputElem",""],[1,"select-arrow",3,"ngClass"],["class","dropdown-wrapper show",4,"ngIf"],[1,"badge-list"],["badgeListElem",""],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"ms-2","font-medium"],[1,"dropdown-wrapper","show"],[1,"list-group","dropdown"],[4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],[1,"list-inline-item"],["aria-hidden","true",1,"fa","fa-times","pointer",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.YNc(3,N,2,0,"span",2),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.showFieldItems()}),e.TgZ(5,"input",4,5),e.NdJ("ngModelChange",function(m){return n.fieldModel=m})("blur",function(){return n.clearModel()}),e.qZA(),e._UZ(7,"span",6),e.YNc(8,F,3,1,"div",7),e.TgZ(9,"div",8,9)(11,"ul",10),e.YNc(12,V,4,1,"li",11),e.qZA()()()()),2&t&&(e.xp6(1),e.s9C("for",n.fieldName),e.xp6(1),e.Oqu(n.fieldText),e.xp6(1),e.Q6J("ngIf",n.isFieldRequired()),e.xp6(2),e.s9C("placeholder",n.fieldPlaceholder),e.s9C("name",n.fieldName),e.Q6J("ngModel",n.fieldModel)("required",n.checkRequired())("ngStyle",e.WLB(11,Q,n.leftPadding,n.topPadding)),e.xp6(2),e.Q6J("ngClass",n.isExpanded?"up":"down"),e.xp6(1),e.Q6J("ngIf",n.isExpanded),e.xp6(4),e.Q6J("ngForOf",n.selectedItem))},dependencies:[C.mk,C.sg,C.O5,C.PC,g.Fj,g.JJ,g.Q7,g.On]}),a})();var k=f(2870),P=f(2582),L=f(1027),Z=f(5832);const H=["postJobsForm"],z=["quillEditor"];function G(i,a){1&i&&e._UZ(0,"loader")}function Y(i,a){1&i&&(e.TgZ(0,"div",46),e._uU(1," Name required "),e.qZA())}function U(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,Y,2,0,"div",45),e.qZA()),2&i){e.oxw();const s=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==s.controls.name.errors?null:s.controls.name.errors.required)}}function B(i,a){1&i&&(e.TgZ(0,"div",46),e._uU(1," Position type required "),e.qZA())}function W(i,a){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,B,2,0,"div",45),e.qZA()),2&i){e.oxw();const s=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==s.controls.jobTypeId.errors?null:s.controls.jobTypeId.errors.required)}}function K(i,a){1&i&&(e.TgZ(0,"div",46),e._uU(1," Job type required "),e.qZA())}function $(i,a){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,K,2,0,"div",45),e.qZA()),2&i){e.oxw();const s=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==s.controls.employmentTypeId.errors?null:s.controls.employmentTypeId.errors.required)}}function O(i,a){1&i&&(e.TgZ(0,"div",46),e._uU(1," Visa required "),e.qZA())}function S(i,a){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,O,2,0,"div",45),e.qZA()),2&i){e.oxw();const s=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==s.controls.visaId.errors?null:s.controls.visaId.errors.required)}}function X(i,a){1&i&&(e.TgZ(0,"div",46),e._uU(1," Job location required "),e.qZA())}function j(i,a){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,X,2,0,"div",45),e.qZA()),2&i){e.oxw();const s=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==s.controls.cityId.errors?null:s.controls.cityId.errors.required)}}function ee(i,a){1&i&&(e.TgZ(0,"div",46),e._uU(1," Job description required "),e.qZA())}function te(i,a){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,ee,2,0,"div",45),e.qZA()),2&i){e.oxw();const s=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==s.controls.description.errors?null:s.controls.description.errors.required)}}function ie(i,a){1&i&&(e.TgZ(0,"div",46),e._uU(1," Expereince must be less than 50 "),e.qZA())}function c(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,ie,2,0,"div",45),e.qZA()),2&i){e.oxw();const s=e.MAs(2);e.xp6(1),e.Q6J("ngIf",null==s.controls.totalExp.errors?null:s.controls.totalExp.errors.max)}}function u(i,a){if(1&i){const s=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(s);const l=e.oxw(2);return e.KtG(l.selectDirectClient=n)})("change",function(){const l=e.CHM(s).$implicit,m=e.oxw(2);return e.KtG(m.onDirectClientChange(l.value))}),e.qZA(),e.TgZ(3,"label",50),e._uU(4),e.qZA()(),e.BQk()}if(2&i){const s=a.$implicit,t=e.oxw(2);e.xp6(2),e.Q6J("id",s.id)("value",s.value)("ngModel",t.selectDirectClient),e.xp6(1),e.Q6J("for",s.id),e.xp6(1),e.hij(" ",s.label," ")}}function h(i,a){if(1&i){const s=e.EpF();e.TgZ(0,"div",51),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.onCancel())}),e._uU(1,"Cancel"),e.qZA()}}function o(i,a){if(1&i){const s=e.EpF();e.ynx(0),e.TgZ(1,"form",1,2),e.NdJ("ngSubmit",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.postJob())}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"label",8),e._uU(9,"Job Title "),e.TgZ(10,"span",9),e._uU(11,"*"),e.qZA()(),e.TgZ(12,"input",10),e.NdJ("ngModelChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.formData.name=n)}),e.qZA(),e.YNc(13,U,2,1,"div",11),e.qZA()()(),e.TgZ(14,"div",5)(15,"div",12)(16,"app-multi-select-field",13),e.NdJ("inputChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onPositionTypeChange(n))}),e.qZA(),e.YNc(17,W,2,1,"div",14),e.qZA()(),e.TgZ(18,"div",5)(19,"div",12)(20,"app-multi-select-field",15),e.NdJ("inputChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onEmploymentTypeChange(n))}),e.qZA(),e.YNc(21,$,2,1,"div",14),e.qZA()(),e.TgZ(22,"div",5)(23,"div",12)(24,"app-multi-select-field",16),e.NdJ("inputChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onVisaMapChange(n))}),e.qZA(),e.YNc(25,S,2,1,"div",14),e.qZA()(),e.TgZ(26,"div",5)(27,"div",17)(28,"app-multi-search-field",18),e.NdJ("queryChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onLocationQuery(n))})("inputChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onLocationChange(n))}),e.qZA(),e.YNc(29,j,2,1,"div",14),e.qZA()(),e.TgZ(30,"div",19)(31,"div",6)(32,"div",20)(33,"label",21),e._uU(34,"Job Description"),e.TgZ(35,"span",9),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"quill-editor",22,23),e.NdJ("ngModelChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.formData.description=n)})("onContentChanged",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onContentChanged(n))}),e.qZA(),e.YNc(39,te,2,1,"div",24),e.qZA()()(),e.TgZ(40,"div",5)(41,"div",17)(42,"app-multi-search-field",25),e.NdJ("queryChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onSkillQuery(n))})("inputChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onSelectedSkills(n))}),e.qZA()()(),e.TgZ(43,"div",5)(44,"div",12)(45,"app-select-field",26),e.NdJ("inputChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.onBillingListChange(n))}),e.qZA()()(),e.TgZ(46,"div",5)(47,"div",6)(48,"div",7)(49,"label",27),e._uU(50,"Total years of Exp"),e.qZA(),e.TgZ(51,"input",28,29),e.NdJ("ngModelChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.formData.totalExp=n)}),e.qZA(),e.YNc(53,c,2,1,"div",11),e.qZA()()(),e.TgZ(54,"div",30)(55,"div",6)(56,"div",31)(57,"label"),e._uU(58,"Direct Client (Y/N) "),e.TgZ(59,"span",9),e._uU(60,"*"),e.qZA()(),e.TgZ(61,"div",32),e.YNc(62,u,5,5,"ng-container",33),e.qZA()()()()(),e.TgZ(63,"div",4)(64,"div",19)(65,"div",6)(66,"div",7)(67,"div",34)(68,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.formData.localCandidatePref=n)}),e.qZA(),e.TgZ(69,"label",36),e._uU(70,"Local candidate preferred"),e.qZA()(),e.TgZ(71,"div",34)(72,"input",37),e.NdJ("ngModelChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.formData.notifyOnCandidateProfileMap=n)}),e.qZA(),e.TgZ(73,"label",38),e._uU(74,"Receive an individual email update each time someone applies"),e.qZA()(),e.TgZ(75,"div",34)(76,"input",39),e.NdJ("ngModelChange",function(n){e.CHM(s);const l=e.oxw();return e.KtG(l.formData.notifyWithResume=n)}),e.qZA(),e.TgZ(77,"label",40),e._uU(78,"Receive resume as an attachment in email "),e.qZA()()()()()(),e.TgZ(79,"div",41),e._UZ(80,"submit-btn",42),e.YNc(81,h,2,0,"div",43),e.qZA()()(),e.BQk()}if(2&i){const s=e.MAs(2),t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.formData.name),e.xp6(1),e.Q6J("ngIf",s.submitted&&s.controls.name.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldList",t.selectJobPositionTypeList)("isEdit",t.isEdit)("editValue",t.formData.jobOpeningJobTypes),e.xp6(1),e.Q6J("ngIf",s.submitted&&s.controls.jobTypeId.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldList",t.selectEmploymentTypeList)("isEdit",t.isEdit)("editValue",t.formData.jobOpeningEmploymentTypes),e.xp6(1),e.Q6J("ngIf",s.submitted&&s.controls.employmentTypeId.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldList",t.selectVisaMapsList)("isEdit",t.isEdit)("editValue",t.formData.jobOpeningVisaMaps),e.xp6(1),e.Q6J("ngIf",s.submitted&&s.controls.visaId.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldList",t.selectLocationList)("isEdit",t.isEdit)("editValue",t.formData.jobOpeningLocations),e.xp6(1),e.Q6J("ngIf",s.submitted&&s.controls.cityId.invalid),e.xp6(8),e.Q6J("placeholder",t.editorPlacehorder)("ngModel",t.formData.description)("required",!0)("modules",t.modules),e.xp6(2),e.Q6J("ngIf",s.submitted&&s.controls.description.invalid),e.xp6(3),e.Q6J("fieldRequired",!1)("fieldList",t.selectSkillList)("isEdit",t.isEdit)("editValue",t.formData.jobOpeningSkills),e.xp6(3),e.Q6J("fieldRequired",!1)("fieldList",t.selectBillingList)("isEdit",t.isEdit)("editValue",t.formData.billingRangeId),e.xp6(6),e.Q6J("ngModel",t.formData.totalExp),e.xp6(2),e.Q6J("ngIf",s.submitted&&s.controls.totalExp.invalid),e.xp6(9),e.Q6J("ngForOf",t.directClientList),e.xp6(6),e.Q6J("ngModel",t.formData.localCandidatePref),e.xp6(4),e.Q6J("ngModel",t.formData.notifyOnCandidateProfileMap),e.xp6(4),e.Q6J("ngModel",t.formData.notifyWithResume),e.xp6(4),e.Q6J("isEdit",t.isEdit)("isSubmit",t.isFormSubmitted),e.xp6(1),e.Q6J("ngIf",t.isEdit)}}let d=(()=>{var i;class a{constructor(t,n,l,m,p,v,x){this.router=t,this.route=n,this.commonService=l,this.sessionService=m,this.sharedService=p,this.toastr=v,this.jobOpeningService=x,this.outputparams=new e.vpe,this.formData={name:"",country:"",joiningdays:"",description:"",totalExp:null,postedDate:null,lastDate:null,jobTypeId:null,employmentTypeId:null,visaId:null,cityId:null,jobOpeningJobTypes:[],jobOpeningEmploymentTypes:[],jobOpeningVisaMaps:[],jobOpeningLocations:[],jobOpeningSkills:[],directClient:null,billingRangeId:"",fromAmt:0,toAmt:0},this.selectBillingList=[{id:1,range:"Less than 50"},{id:2,range:"50-60"},{id:3,range:"60-70"},{id:4,range:"70-80"},{id:5,range:"75-85"},{id:6,range:"80-90"},{id:7,range:"90-100"},{id:8,range:"100+"}],this.directClientList=[{label:"Yes",value:!0,id:"directClientYes"},{label:"No",value:!1,id:"directClientNo"},{label:"Not Disclosed",value:"null",id:"directClientNotDisclosed"}],this.selectDirectClient="null",this.editorPlacehorder="Text here...",this.postedDate=new Date,this.lastDate=new Date,this.isFormSubmitted=!1,this.job={},this.isEdit=!1,this.isLoaded=!0,this.modules={toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}]]},t.events.subscribe(oe=>{oe instanceof r.m2&&this.route.params.subscribe(ne=>{ne.id?(this.jobOpeningId=ne.id,this.isEdit=!0,this.editForm()):this.isEdit=!1})})}editForm(){this.isLoaded=!1,this.jobOpeningService.apiJobOpeningJobOpeningByIdGet(this.jobOpeningId).subscribe({next:t=>{this.isLoaded=!0;let n=t.value;if(this.formData=n,!_.ZP.isEmpty(n.jobOpeningJobTypes)){let l=[];n.jobOpeningJobTypes.forEach(m=>{l.push({jobTypeId:m.jobTypeId,description:m.jobType.description})}),this.formData.jobOpeningJobTypes=l}if(!_.ZP.isEmpty(n.jobOpeningEmploymentTypes)){let l=[];n.jobOpeningEmploymentTypes.forEach(m=>{l.push({employmentTypeId:m.employmentTypeId,description:m.employmentType.description})}),this.formData.jobOpeningEmploymentTypes=l}if(!_.ZP.isEmpty(n.jobOpeningVisaMaps)){let l=[];n.jobOpeningVisaMaps.forEach(m=>{l.push({visaId:m.visaId,name:m.visa.name})}),this.formData.jobOpeningVisaMaps=l}if(!_.ZP.isEmpty(n.jobOpeningLocations)){let l=[];n.jobOpeningLocations.forEach(m=>{let p=m.city;l.push({cityId:m.cityId,city1:p.city1,stateName:p.stateName,stateCode:p.stateCode,numberOfOpenings:m.numberOfOpenings})}),this.formData.jobOpeningLocations=l}if(!_.ZP.isEmpty(n.jobOpeningSkills)){let l=[];n.jobOpeningSkills.forEach(m=>{l.push({skillId:m.skillId,name:m.skill.name})}),this.formData.jobOpeningSkills=l}if(0==n.fromAmt&&0==n.toAmt||0==n.fromAmt&&50==n.toAmt)this.formData.billingRangeId=1;else{const l=n.fromAmt.toString()+"-"+n.toAmt.toString(),m=this.selectBillingList.filter(p=>p.range==l);this.formData.billingRangeId=m[0].id}this.selectDirectClient=null==!n.directClient?"null":n.directClient},error:t=>{this.isLoaded=!0}})}onPositionTypeChange(t){let n=[];_.ZP.isEmpty(t)?(this.formData.jobOpeningJobTypes=[],this.formData.jobTypeId=null):(t.forEach(l=>{n.push({jobTypeId:l.jobTypeId||l.id,active:!0})}),this.formData.jobOpeningJobTypes=n,this.formData.jobTypeId=t[0].id)}onEmploymentTypeChange(t){let n=[];_.ZP.isEmpty(t)?(this.formData.jobOpeningEmploymentTypes=[],this.formData.employmentTypeId=null):(t.forEach(l=>{n.push({employmentTypeId:l.employmentTypeId||l.id,active:!0})}),this.formData.jobOpeningEmploymentTypes=n,this.formData.employmentTypeId=t[0].id)}onVisaMapChange(t){this.formData.jobOpeningVisaMaps=t,this.formData.visaId=t.id;let n=[];_.ZP.isEmpty(t)?(this.formData.jobOpeningVisaMaps=[],this.formData.visaId=null):(t.forEach(l=>{n.push({visaId:l.visaId||l.id})}),this.formData.jobOpeningVisaMaps=n,this.formData.visaId=t[0].id)}onLocationQuery(t){this.commonService.apiCommonCityGet(t,void 0,!1).subscribe({next:n=>{this.selectLocationList=n.value},error:n=>{}})}onLocationChange(t){let n=[];_.ZP.isEmpty(t)?(this.formData.jobOpeningLocations=[],this.formData.cityId=null):(t.forEach((l,m)=>{n.push({id:m,cityId:l.cityId||l.id,numberOfOpenings:l.numberOfOpenings})}),this.formData.jobOpeningLocations=n,this.formData.cityId=t[0].id)}onSkillQuery(t){this.commonService.apiCommonSkillsGet(t).subscribe({next:n=>{this.selectSkillList=n.value},error:n=>{}})}onSelectedSkills(t){let n=[];_.ZP.isEmpty(t)?(this.formData.jobOpeningSkills=[],this.formData.skillId=null):(t.forEach(l=>{n.push({skillId:l.skillId||l.id,isMandate:!0,active:!0})}),this.formData.jobOpeningSkills=n,this.formData.skillId=t[0].id)}onBillingListChange(t){let l=t.range.split("-");1!=l.length?(this.formData.fromAmt=l[0],this.formData.toAmt=l[1]):(this.formData.fromAmt=0,this.formData.toAmt=50)}onDirectClientChange(t){this.selectDirectClient=t}onContentChanged(t){}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}onCancel(){this.outputparams.emit(!0)}postJob(){this.isFormSubmitted=!0;for(const t in this.postJobsForm.controls)this.postJobsForm.controls.hasOwnProperty(t)&&this.postJobsForm.controls[t].invalid&&console.log(`Invalid field: ${t}`);this.postJobsForm.valid?(this.job=this.isEdit?{id:this.formData.id,name:this.formData.name,country:this.formData.country,joiningdays:this.formData.joiningdays,description:this.formData.description,totalExp:parseInt(this.formData.totalExp),postedDate:(new Date).toISOString(),lastDate:(new Date).toISOString(),numberOfOpening:this.formData.numberOfOpening,active:this.formData.active,consultancyUserId:this.sessionService.consultancyUserId,priorityId:this.formData.priorityId,categoryId:this.formData.categoryId,jobLocation:this.formData.jobLocation,postalcode:this.formData.postalcode,projectStartId:this.formData.projectStartId,directClient:this.formData.directClient,isReviewed:this.formData.isReviewed,fromAmt:this.formData.fromAmt,toAmt:this.formData.toAmt,notifyOnCandidateProfileMap:this.formData.notifyOnCandidateProfileMap,notifyWithResume:this.formData.notifyWithResume,localCandidatePref:this.formData.localCandidatePref,localCandidateOnly:this.formData.localCandidateOnly,isExpired:this.formData.isExpired,jobOpeningSkills:this.formData.jobOpeningSkills,jobOpeningVisaMaps:this.formData.jobOpeningVisaMaps,jobOpeningLocations:this.formData.jobOpeningLocations,jobOpeningEmploymentTypes:this.formData.jobOpeningEmploymentTypes,jobOpeningJobTypes:this.formData.jobOpeningJobTypes}:{name:this.formData.name,country:"USA",joiningdays:0,description:this.formData.description,totalExp:parseInt(this.formData.totalExp),postedDate:(new Date).toISOString(),lastDate:(new Date).toISOString(),numberOfOpening:0,active:!0,consultancyUserId:this.sessionService.consultancyUserId,priorityId:0,categoryId:1,jobLocation:"string",postalcode:"string",projectStartId:8,directClient:"null"==this.selectDirectClient?null:this.selectDirectClient,isReviewed:!0,fromAmt:this.formData.fromAmt,toAmt:this.formData.toAmt,notifyOnCandidateProfileMap:this.formData.notifyOnCandidateProfileMap,notifyWithResume:this.formData.notifyWithResume,localCandidatePref:this.formData.localCandidatePref,localCandidateOnly:!0,isExpired:!0,jobOpeningSkills:this.formData.jobOpeningSkills,jobOpeningVisaMaps:this.formData.jobOpeningVisaMaps,jobOpeningLocations:this.formData.jobOpeningLocations,jobOpeningEmploymentTypes:this.formData.jobOpeningEmploymentTypes,jobOpeningJobTypes:this.formData.jobOpeningJobTypes},this.jobOpeningService.apiJobOpeningAddPost(this.job).subscribe({next:t=>{this.toastr.success(`Job ${this.isEdit?"reposted":"posted"} successfully`,"",{timeOut:3e3,positionClass:"toast-top-center"}),this.scrollToTop(),this.isEdit&&this.outputparams.emit(!0),this.isFormSubmitted=!1},error:t=>{this.toastr.error("Some error occured","",{timeOut:3e3,positionClass:"toast-top-center"}),this.scrollToTop(),this.isFormSubmitted=!1}})):(this.scrollToTop(),this.isFormSubmitted=!1)}ngOnInit(){this.formData.jobOpeningVisaMaps=E.XF,this.commonService.apiCommonJobTypeGet().subscribe({next:t=>{this.selectJobPositionTypeList=t.value},error:t=>{}}),this.commonService.apiCommonEmploymentTypeGet().subscribe({next:t=>{this.selectEmploymentTypeList=t.value},error:t=>{}}),this.commonService.apiCommonVisaGet().subscribe({next:t=>{this.selectVisaMapsList=t.value},error:t=>{}}),this.sharedService.skillsetdatacast.subscribe(t=>{this.selectSkillList=t})}}return(i=a).\u0275fac=function(t){return new(t||i)(e.Y36(r.F0),e.Y36(r.gz),e.Y36(M.v_),e.Y36(y.m),e.Y36(b.F),e.Y36(T._W),e.Y36(M.UK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["post-job-details"]],viewQuery:function(t,n){if(1&t&&(e.Gf(H,5),e.Gf(z,5)),2&t){let l;e.iGM(l=e.CRH())&&(n.postJobsForm=l.first),e.iGM(l=e.CRH())&&(n.quillEditor=l.first)}},outputs:{outputparams:"outputparams"},decls:2,vars:2,consts:[[4,"ngIf"],["name","postJobsForm","novalidate","",3,"ngSubmit"],["postJobsForm","ngForm"],[1,"form-box"],[1,"row"],[1,"col-sm-6"],[1,"input-box"],[1,"form-group"],["for","name"],[1,"req"],["type","text","placeholder","Title","name","name","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["class","mt-2",4,"ngIf"],[1,"input-box","select-box"],["fieldName","jobTypeId","fieldText","Position Type","fieldPlaceholder","Position type","fieldType","description","fieldItemMinLimit","1",3,"fieldRequired","fieldList","isEdit","editValue","inputChange"],["class","my-3",4,"ngIf"],["fieldName","employmentTypeId","fieldText","Job Type","fieldPlaceholder","Job type","fieldType","description","fieldItemMinLimit","1",3,"fieldRequired","fieldList","isEdit","editValue","inputChange"],["fieldName","visaId","fieldText","Visa Applicable","fieldPlaceholder","Visa","fieldType","name","fieldItemMinLimit","1",3,"fieldRequired","fieldList","isEdit","editValue","inputChange"],[1,"input-box","search-box"],["fieldName","cityId","fieldText","Job Location","fieldType","city1,stateName,stateCode","fieldPlaceholder","Enter","fieldItemMaxLimit","5",3,"fieldRequired","fieldList","isEdit","editValue","queryChange","inputChange"],[1,"col-sm-12"],[1,"form-group","ov"],["for","description"],["name","description",1,"quill-editor",3,"placeholder","ngModel","required","modules","ngModelChange","onContentChanged"],["quillEditor",""],["class","py-2 clear",4,"ngIf"],["fieldName","skillId","fieldText","Skills ( Add maximum 5 skills)","fieldType","name","fieldPlaceholder","Skill","fieldItemMaxLimit","5",3,"fieldRequired","fieldList","isEdit","editValue","queryChange","inputChange"],["fieldName","billingRangeId","fieldText","Salary Range","fieldType","range","fieldPlaceholder","Market",3,"fieldRequired","fieldList","isEdit","editValue","inputChange"],["for","totalExp"],["type","number","placeholder","Enter","name","totalExp","autocomplete","off","max","49",1,"form-control",3,"ngModel","ngModelChange"],["postJobExperience",""],[1,"col-md-6"],[1,"form-group","mb-4"],[1,"d-flex","mt-1"],[4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox","id","localCandidatePref","name","localCandidatePref",1,"form-check-input","filled",3,"ngModel","ngModelChange"],["for","localCandidatePref",1,"form-check-label"],["type","checkbox","id","notifyOnCandidateProfileMap","name","notifyOnCandidateProfileMap",1,"form-check-input","filled",3,"ngModel","ngModelChange"],["for","notifyOnCandidateProfileMap",1,"form-check-label"],["type","checkbox","id","notifyWithResume","name","notifyWithResume",1,"form-check-input","filled",3,"ngModel","ngModelChange"],["for","notifyWithResume",1,"form-check-label"],[1,"submit-box"],["defaultText","Submit","editText","Repost this job","defaultActionText","Submitting...","editActionText","Reposing this job...",3,"isEdit","isSubmit"],["class","btn btn-secondary ms-3",3,"click",4,"ngIf"],[1,"mt-2"],["class","input-field-message",4,"ngIf"],[1,"input-field-message"],[1,"my-3"],[1,"py-2","clear"],["type","radio","name","directClientId",1,"form-check-input",3,"id","value","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[1,"btn","btn-secondary","ms-3",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,G,1,0,"loader",0),e.YNc(1,o,82,44,"ng-container",0)),2&t&&(e.Q6J("ngIf",!n.isLoaded),e.xp6(1),e.Q6J("ngIf",n.isLoaded))},dependencies:[C.sg,C.O5,g._Y,g.Fj,g.wV,g.Wl,g._,g.JJ,g.JL,g.Q7,g.Fd,g.On,g.F,D.l,R,k.b,P.R,L.p,Z.g6]}),a})()},1051:(w,I,f)=>{f.d(I,{p:()=>M});var e=f(6814),r=f(8524),E=f(5832),_=f(5879);let M=(()=>{var y;class b{}return(y=b).\u0275fac=function(C){return new(C||y)},y.\u0275mod=_.oAB({type:y}),y.\u0275inj=_.cJS({imports:[e.ez,r.m.forRoot(),E.fi.forRoot()]}),b})()},5832:(w,I,f)=>{f.d(I,{g6:()=>j,fi:()=>ie});var e=f(5861),r=f(5879);const E={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},_=new r.OlP("config",{providedIn:"root",factory:()=>({modules:E})});var b=f(6814),T=f(6593),C=f(4911),g=f(2664),D=f(6973),q=f(305);function A(c,u){const h="object"==typeof u;return new Promise((o,d)=>{const i=new q.Hp({next:a=>{o(a),i.unsubscribe()},error:d,complete:()=>{h?o(u.defaultValue):d(new D.K)}});c.subscribe(i)})}var N=f(7394),J=f(2438),F=f(8645),V=f(4552);class Q extends F.x{constructor(u=1/0,h=1/0,o=V.l){super(),this._bufferSize=u,this._windowTime=h,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=h===1/0,this._bufferSize=Math.max(1,u),this._windowTime=Math.max(1,h)}next(u){const{isStopped:h,_buffer:o,_infiniteTimeWindow:d,_timestampProvider:i,_windowTime:a}=this;h||(o.push(u),!d&&o.push(i.now()+a)),this._trimBuffer(),super.next(u)}_subscribe(u){this._throwIfClosed(),this._trimBuffer();const h=this._innerSubscribe(u),{_infiniteTimeWindow:o,_buffer:d}=this,i=d.slice();for(let a=0;a<i.length&&!u.closed;a+=o?1:2)u.next(i[a]);return this._checkFinalizedStatuses(u),h}_trimBuffer(){const{_bufferSize:u,_timestampProvider:h,_buffer:o,_infiniteTimeWindow:d}=this,i=(d?1:2)*u;if(u<1/0&&i<o.length&&o.splice(0,o.length-i),!d){const a=h.now();let s=0;for(let t=1;t<o.length&&o[t]<=a;t+=2)s=t;s&&o.splice(0,s+1)}}}var R=f(3020),P=f(9769),L=f(3620),Z=f(6223);function H(c,u){1&c&&r._UZ(0,"pre",3)}function z(c,u){if(1&c&&r.YNc(0,H,1,0,"pre",2),2&c){const h=r.oxw(),o=r.MAs(6);r.Q6J("ngIf",h.preserve)("ngIfElse",o)}}function G(c,u){1&c&&r._UZ(0,"pre",3)}function Y(c,u){if(1&c&&r.YNc(0,G,1,0,"pre",2),2&c){const h=r.oxw(),o=r.MAs(6);r.Q6J("ngIf",h.preserve)("ngIfElse",o)}}function U(c,u){1&c&&r._UZ(0,"div",3)}const B=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],W=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function K(c,u){1&c&&r._UZ(0,"div",1)}function $(c,u){1&c&&r._UZ(0,"pre",1)}const O=(c,u)=>c||u||"html";let S=(()=>{var c;class u{constructor(o,d){var i=this;this.config=d,this.quill$=(0,C.P)((0,e.Z)(function*(){if(!i.Quill){const a=i.document.addEventListener;i.document.addEventListener=i.document.__zone_symbol__addEventListener||i.document.addEventListener;const s=yield f.e(125).then(f.t.bind(f,7536,19));i.document.addEventListener=a,i.Quill=s.default?s.default:s}return i.config.customOptions?.forEach(a=>{const s=i.Quill.import(a.import);s.whitelist=a.whitelist,i.Quill.register(s,!0,i.config.suppressGlobalRegisterWarning)}),yield i.registerCustomModules(i.Quill,i.config.customModules,i.config.suppressGlobalRegisterWarning)})).pipe(function k(c,u,h){let o,d=!1;return c&&"object"==typeof c?({bufferSize:o=1/0,windowTime:u=1/0,refCount:d=!1,scheduler:h}=c):o=c??1/0,(0,R.B)({connector:()=>new Q(o,u,h),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}({bufferSize:1,refCount:!0})),this.document=o.get(b.K0),this.config||(this.config={modules:E})}getQuill(){return this.quill$}registerCustomModules(o,d,i){return(0,e.Z)(function*(){if(Array.isArray(d))for(let{implementation:a,path:s}of d)(0,g.b)(a)&&(a=yield A(a)),o.register(s,a,i);return o})()}}return(c=u).\u0275fac=function(o){return new(o||c)(r.LFG(r.zs3),r.LFG(_,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),u})(),X=(()=>{var c;class u{constructor(){this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new r.vpe,this.onEditorChanged=new r.vpe,this.onContentChanged=new r.vpe,this.onSelectionChanged=new r.vpe,this.onFocus=new r.vpe,this.onBlur=new r.vpe,this.onNativeFocus=new r.vpe,this.onNativeBlur=new r.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.elementRef=(0,r.f3M)(r.SBq),this.document=(0,r.f3M)(b.K0),this.cd=(0,r.f3M)(r.sBO),this.domSanitizer=(0,r.f3M)(T.H7),this.platformId=(0,r.f3M)(r.Lbi),this.renderer=(0,r.f3M)(r.Qsj),this.zone=(0,r.f3M)(r.R0b),this.service=(0,r.f3M)(S),this.valueGetter=(o,d)=>{let i=d.querySelector(".ql-editor").innerHTML;("<p><br></p>"===i||"<div><br></div>"===i)&&(i=this.defaultEmptyValue);let a=i;const s=O(this.format,this.service.config.format);if("text"===s)a=o.getText();else if("object"===s)a=o.getContents();else if("json"===s)try{a=JSON.stringify(o.getContents())}catch{a=o.getText()}return a},this.valueSetter=(o,d)=>{const i=O(this.format,this.service.config.format);if("html"===i)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(d=this.domSanitizer.sanitize(r.q3G.HTML,d)),o.clipboard.convert(d);if("json"===i)try{return JSON.parse(d)}catch{return[{insert:d}]}return d},this.selectionChangeHandler=(o,d,i)=>{const a=this.trackChanges||this.service.config.trackChanges,s=!o&&!!this.onModelTouched&&("user"===i||a&&"all"===a);!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!s||this.zone.run(()=>{null===o?this.onBlur.emit({editor:this.quillEditor,source:i}):null===d&&this.onFocus.emit({editor:this.quillEditor,source:i}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:d,range:o,source:i}),s&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(o,d,i)=>{const a=this.quillEditor.getText(),s=this.quillEditor.getContents();let t=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===t||"<div><br></div>"===t)&&(t=this.defaultEmptyValue);const n=this.trackChanges||this.service.config.trackChanges,l=("user"===i||n&&"all"===n)&&!!this.onModelChange;!this.onContentChanged.observed&&!l||this.zone.run(()=>{l&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:s,delta:o,editor:this.quillEditor,html:t,oldDelta:d,source:i,text:a}),this.cd.markForCheck()})},this.editorChangeHandler=(o,d,i,a)=>{if(this.onEditorChanged.observed)if("text-change"===o){const s=this.quillEditor.getText(),t=this.quillEditor.getContents();let n=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===n||"<div><br></div>"===n)&&(n=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:t,delta:d,editor:this.quillEditor,event:o,html:n,oldDelta:i,source:a,text:s}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:o,oldRange:i,range:d,source:a}),this.cd.markForCheck()})}}static normalizeClassNames(o){return o.trim().split(" ").reduce((i,a)=>{const s=a.trim();return s&&i.push(s),i},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,b.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,P.z)(o=>{const d=[this.service.registerCustomModules(o,this.customModules)],i=this.beforeRender??this.service.config.beforeRender;return i&&d.push(i()),Promise.all(d).then(()=>o)})).subscribe(o=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const d=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),i=Object.assign({},this.modules||this.service.config.modules);d?i.toolbar=d:void 0===i.toolbar&&(i.toolbar=E.toolbar);let a=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===a&&(a="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(v=>{this.renderer.setStyle(this.editorElem,v,this.styles[v])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(v=>{const x=o.import(v.import);x.whitelist=v.whitelist,o.register(x,!0)});let s=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;s||(s=this.service.config.bounds?this.service.config.bounds:this.document.body);let t=this.debug;!t&&!1!==t&&this.service.config.debug&&(t=this.service.config.debug);let n=this.readOnly;!n&&!1!==this.readOnly&&(n=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let l=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(l=this.service.config.defaultEmptyValue);let m=this.scrollingContainer;!m&&null!==this.scrollingContainer&&(m=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let p=this.formats;if(!p&&void 0===p&&(p=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new o(this.editorElem,{bounds:s,debug:t,formats:p,modules:i,placeholder:a,readOnly:n,defaultEmptyValue:l,scrollingContainer:m,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container.addEventListener("mousedown",v=>v.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder){const x=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");x?.dataset&&(x.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===O(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const x=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(x,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(o){if(this.quillEditor){if(o.readOnly&&this.quillEditor.enable(!o.readOnly.currentValue),o.placeholder&&(this.quillEditor.root.dataset.placeholder=o.placeholder.currentValue),o.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=o.defaultEmptyValue.currentValue),o.styles){const d=o.styles.currentValue,i=o.styles.previousValue;i&&Object.keys(i).forEach(a=>{this.renderer.removeStyle(this.editorElem,a)}),d&&Object.keys(d).forEach(a=>{this.renderer.setStyle(this.editorElem,a,this.styles[a])})}if(o.classes){const d=o.classes.currentValue,i=o.classes.previousValue;i&&this.removeClasses(i),d&&this.addClasses(d)}o.debounceTime&&this.addQuillEventListeners()}}addClasses(o){u.normalizeClassNames(o).forEach(d=>{this.renderer.addClass(this.editorElem,d)})}removeClasses(o){u.normalizeClassNames(o).forEach(d=>{this.renderer.removeClass(this.editorElem,d)})}writeValue(o){if(this.filterNull&&null===o||(this.content=o,!this.quillEditor))return;const d=O(this.format,this.service.config.format),i=this.valueSetter(this.quillEditor,o);if(this.compareValues){const a=this.quillEditor.getContents();if(JSON.stringify(a)===JSON.stringify(i))return}o?"text"===d?this.quillEditor.setText(o):this.quillEditor.setContents(i):this.quillEditor.setText("")}setDisabledState(o=this.disabled){this.disabled=o,this.quillEditor&&(o?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(o){this.onModelChange=o}registerOnTouched(o){this.onModelTouched=o}registerOnValidatorChange(o){this.onValidatorChanged=o}validate(){if(!this.quillEditor)return null;const o={};let d=!0;const i=this.quillEditor.getText(),a=this.trimOnValidation?i.trim().length:1===i.length&&0===i.trim().length?0:i.length-1,s=this.quillEditor.getContents().ops,t=s&&1===s.length&&["\n",""].includes(s[0].insert);return this.minLength&&a&&a<this.minLength&&(o.minLengthError={given:a,minLength:this.minLength},d=!1),this.maxLength&&a>this.maxLength&&(o.maxLengthError={given:a,maxLength:this.maxLength},d=!1),this.required&&!a&&t&&(o.requiredError={empty:!0},d=!1),d?null:o}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new N.w0,this.subscription.add((0,J.R)(this.quillEditor,"selection-change").subscribe(([i,a,s])=>{this.selectionChangeHandler(i,a,s)}));let o=(0,J.R)(this.quillEditor,"text-change"),d=(0,J.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(o=o.pipe((0,L.b)(this.debounceTime)),d=d.pipe((0,L.b)(this.debounceTime))),this.subscription.add(o.subscribe(([i,a,s])=>{this.textChangeHandler(i,a,s)})),this.subscription.add(d.subscribe(([i,a,s,t])=>{this.editorChangeHandler(i,a,s,t)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return(c=u).\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[r.TTD]}),u})(),j=(()=>{var c;class u extends X{}return(c=u).\u0275fac=function(){let h;return function(d){return(h||(h=r.n5z(c)))(d||c)}}(),c.\u0275cmp=r.Xpm({type:c,selectors:[["quill-editor"]],standalone:!0,features:[r._Bn([{multi:!0,provide:Z.JU,useExisting:(0,r.Gpc)(()=>c)},{multi:!0,provide:Z.Cf,useExisting:(0,r.Gpc)(()=>c)}]),r.qOj,r.jDz],ngContentSelectors:W,decls:7,vars:2,consts:[[3,"ngIf"],["noPreserveTpl",""],["quill-editor-element","",4,"ngIf","ngIfElse"],["quill-editor-element",""]],template:function(o,d){1&o&&(r.F$t(B),r.YNc(0,z,1,2,"ng-template",0),r.Hsn(1),r.Hsn(2,1),r.Hsn(3,2),r.YNc(4,Y,1,2,"ng-template",0),r.YNc(5,U,1,0,"ng-template",null,1,r.W1O)),2&o&&(r.Q6J("ngIf","top"!==d.toolbarPosition),r.xp6(4),r.Q6J("ngIf","top"===d.toolbarPosition))},dependencies:[b.ez,b.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),u})(),ee=(()=>{var c;class u{constructor(o,d){this.sanitizer=o,this.service=d,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(o){if(o.theme?this.themeClass=`ql-${o.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),o.content){const d=o.content.currentValue,i=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=i?d:this.sanitizer.bypassSecurityTrustHtml(d)}}}return(c=u).\u0275fac=function(o){return new(o||c)(r.Y36(T.H7),r.Y36(S))},c.\u0275cmp=r.Xpm({type:c,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[r.TTD,r.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(o,d){1&o&&(r.TgZ(0,"div",0),r._UZ(1,"div",1),r.qZA()),2&o&&(r.Q6J("ngClass",d.themeClass),r.xp6(1),r.Q6J("innerHTML",d.innerHTML,r.oJD))},dependencies:[b.ez,b.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),u})(),te=(()=>{var c;class u{constructor(o,d,i,a,s,t){this.elementRef=o,this.renderer=d,this.zone=i,this.service=a,this.domSanitizer=s,this.platformId=t,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new r.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(n,l)=>{const m=O(this.format,this.service.config.format);let p=l;if("text"===m)n.setText(p);else{if("html"===m)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(l=this.domSanitizer.sanitize(r.q3G.HTML,l)),p=n.clipboard.convert(l);else if("json"===m)try{p=JSON.parse(l)}catch{p=[{insert:l}]}n.setContents(p)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(o){this.quillEditor&&o.content&&this.valueSetter(this.quillEditor,o.content.currentValue)}ngAfterViewInit(){(0,b.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,P.z)(o=>{const d=[this.service.registerCustomModules(o,this.customModules)],i=this.beforeRender??this.service.config.beforeRender;return i&&d.push(i()),Promise.all(d).then(()=>o)})).subscribe(o=>{const d=Object.assign({},this.modules||this.service.config.modules);d.toolbar=!1,this.customOptions.forEach(t=>{const n=o.import(t.import);n.whitelist=t.whitelist,o.register(n,!0)});let i=this.debug;!i&&!1!==i&&this.service.config.debug&&(i=this.service.config.debug);let a=this.formats;!a&&void 0===a&&(a=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const s=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new o(this.editorElem,{debug:i,formats:a,modules:d,readOnly:!0,strict:this.strict,theme:s})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.quillSubscription?.unsubscribe(),this.quillSubscription=null}}return(c=u).\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.R0b),r.Y36(S),r.Y36(T.H7),r.Y36(r.Lbi))},c.\u0275cmp=r.Xpm({type:c,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[r.TTD,r.jDz],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(o,d){1&o&&(r.YNc(0,K,1,0,"div",0),r.YNc(1,$,1,0,"pre",0)),2&o&&(r.Q6J("ngIf",!d.preserve),r.xp6(1),r.Q6J("ngIf",d.preserve))},dependencies:[b.ez,b.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),u})(),ie=(()=>{var c;class u{static forRoot(o){return{ngModule:u,providers:[{provide:_,useValue:o}]}}}return(c=u).\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[j,te,ee]}),u})()},5861:(w,I,f)=>{function e(E,_,M,y,b,T,C){try{var g=E[T](C),D=g.value}catch(q){return void M(q)}g.done?_(D):Promise.resolve(D).then(y,b)}function r(E){return function(){var _=this,M=arguments;return new Promise(function(y,b){var T=E.apply(_,M);function C(D){e(T,y,b,C,g,"next",D)}function g(D){e(T,y,b,C,g,"throw",D)}C(void 0)})}}f.d(I,{Z:()=>r})}}]);