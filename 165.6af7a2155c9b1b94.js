"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[165],{2582:(b,P,s)=>{s.d(P,{R:()=>x});var a=s(5879);let x=(()=>{var i;class c{}return(i=c).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["loader"]],decls:3,vars:0,consts:[[1,"loader-wrapper"],[1,"loader-area"],[1,"pre-loader"]],template:function(t,O){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"div",2),a.qZA()())},styles:['.loader-wrapper[_ngcontent-%COMP%]{margin:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]{position:relative;display:flex;padding:50px 0}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]{position:absolute;inset:0;width:60px;height:60px;margin:auto}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before, .loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-width:5px;border-style:solid;border-color:#1259a4;border-radius:100%}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:before{opacity:.5}.loader-wrapper[_ngcontent-%COMP%]   .loader-area[_ngcontent-%COMP%]   .pre-loader[_ngcontent-%COMP%]:after{border-color:#1259a4 transparent transparent;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_blob-bottom{25%,50%,75%{top:50%;left:100%}to{top:0;left:50%}}@keyframes _ngcontent-%COMP%_blob-left{25%{top:50%;left:0}50%,to{top:100%;left:50%}}@keyframes _ngcontent-%COMP%_blob-top{50%{top:0;left:50%}75%,to{top:50%;left:0}}@keyframes _ngcontent-%COMP%_blob-spinner-mover{0%,to{top:0;left:50%}25%{top:50%;left:100%}50%{top:100%;left:50%}75%{top:50%;left:0}}']}),c})()},3838:(b,P,s)=>{s.d(P,{N:()=>O,x:()=>y});var l,h,m,e,p,a=s(5879);if(typeof window>"u")throw new Error("[TalkJS] The TalkJS JavaScript SDK only works in browsers (and not, for example, in Node.js)");l=window,h=document,m=[],(p=h.createElement("script")).async=1,p.src="https://cdn.talkjs.com/talk.js",h.head.appendChild(p),e=l.Promise,l.Talk={v:3,ready:{then:function(g){if(e)return new e(function(M,o){m.push([g,M,o])});m.push([g])},catch:function(){return e&&new e},c:m}};const i=window.Talk;var c=s(9900),C=s(930),t=s(2742);let O=(()=>{var l;class h{constructor(e){this.sessionService=e,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}onClick(e){this.popup&&this.popup.destroy(),this.popup=this.session.createPopup(),this.popup.select(this.conversation),this.popup.mount(),setTimeout(()=>{this.talkElementLanucher=document.querySelector("#__talkjs_launcher"),this.talkElementLanucher.addEventListener("click",r=>{this.talkElementLanucher.parentNode.remove()})},1e3)}initChat(e){let r={};this.sessionService.userId?this.sessionService.userdetailscast.subscribe(g=>{this.user=g,r=new i.User({id:this.user.id,name:`${this.user.fname} ${this.user.lname}`,photoUrl:this.user.profilePic?`${c.xY}${this.user.profilePic}`:c.Ov,role:1==this.user.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:this.user.consultancyUsers[0].consultancy.name,profileUrl:`${c.Eu}${this.user.consultancyUsers[0].publicProfileUserName}`}})}):r=new i.User({id:this.generateRandomId(),name:"user",photoUrl:`${c.Ov}`,role:" "});const p=new i.User({id:e.userId,name:`${e.userFName} ${e.userLName}`,photoUrl:`${c.xY}${e.profilePic}`,role:"Recruiter",custom:{companyName:e.companyName,profileUrl:`${c.Eu}${e.profileUserName}`}});this.session=new i.Session({appId:this.APP_ID,me:r}),this.conversation=this.session.getOrCreateConversation(i.oneOnOneId(r,p)),this.conversation.setParticipant(r),this.conversation.setParticipant(p)}ngOnChanges(){this.chatUser&&this.initChat(this.chatUser)}}return(l=h).\u0275fac=function(e){return new(e||l)(a.Y36(C.m))},l.\u0275dir=a.lG2({type:l,selectors:[["",8,"chat-btn"]],hostBindings:function(e,r){1&e&&a.NdJ("click",function(g){return r.onClick(g)})},inputs:{chatUser:"chatUser"},features:[a.TTD]}),h})(),y=(()=>{var l;class h{constructor(e,r){this.element=e,this.sharedService=r,this.onUnreadEvent=new a.vpe,this.APP_ID="tKzUD2dn"}generateRandomId(){return Math.floor(90*Math.random())+10}initInbox(e,r){const p=e.consultancyUsers[0].consultancy.name,g=`${c.Eu}${e.consultancyUsers[0].publicProfileUserName}`,d=new i.User({id:r.id,name:`${r.fname} ${r.lname}`,photoUrl:`${c.xY}${r.profilePic}`,role:1==r.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:r.consultancyUsers[0].consultancy.name,profileUrl:`${c.Eu}${r.consultancyUsers[0].publicProfileUserName}`}}),u=new i.User({id:e.id,name:`${e.fname} ${e.lname}`,photoUrl:e.profilePic?`${c.xY}${e.profilePic}`:c.Ov,role:1==e.userTypeId?"Recruiter":"Bench Sales",custom:{companyName:p,profileUrl:g}});this.session=new i.Session({appId:this.APP_ID,me:u}),this.conversation=this.session.getOrCreateConversation(i.oneOnOneId(u,d)),this.conversation.setParticipant(d),this.conversation.setParticipant(u);const n=this.session.createInbox();n.select(this.conversation);const f=this.element.nativeElement.querySelector(".message-area");n.mount(f),this.session.unreads.on("change",v=>{this.sharedService.setInboxUnReadCount(v)})}ngOnChanges(){this.user&&this.chatUser&&this.initInbox(this.user,this.chatUser)}}return(l=h).\u0275fac=function(e){return new(e||l)(a.Y36(a.SBq),a.Y36(t.F))},l.\u0275dir=a.lG2({type:l,selectors:[["","id","inboxcontainer"]],inputs:{user:"user",chatUser:"chatUser"},outputs:{onUnreadEvent:"onUnreadEvent"},features:[a.TTD]}),h})()},9165:(b,P,s)=>{s.r(P),s.d(P,{MessagesModule:()=>M});var a=s(6814),x=s(5214),i=s(8524),c=s(1331),C=s(1670),t=s(5879),O=s(9945),y=s(2742),l=s(930),h=s(3838),m=s(2582);const e=["inboxContainer"],p=[{path:"",component:(()=>{var o;class d{constructor(n,f,v){this.userService=n,this.sharedService=f,this.sessionService=v,this.uneadCount=0}handleUnread(n){this.uneadCount=C.ZP.isEmpty(n)?0:n[0]?.unreadMessageCount}ngOnInit(){this.userService.apiUserGetUserByUserNameGet("kannantest32@gmail.com").subscribe({next:n=>{this.chatUser=n.value[0]},error:()=>{}}),this.sharedService.inboxunreadcountcast.subscribe(n=>{this.uneadCount=C.ZP.isEmpty(n)?0:n[0]?.unreadMessageCount}),this.sessionService.userdetailscast.subscribe(n=>{this.user=n})}}return(o=d).\u0275fac=function(n){return new(n||o)(t.Y36(O.KD),t.Y36(y.F),t.Y36(l.m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-messages"]],viewQuery:function(n,f){if(1&n&&t.Gf(e,5),2&n){let v;t.iGM(v=t.CRH())&&(f.inboxContainer=v.first)}},decls:15,vars:3,consts:[[1,"messages-wrapper"],[1,"container"],[1,"row"],[1,"col-sm-12","col-lg-9"],["id","inboxContainer",1,"messages-box",3,"user","chatUser"],["inboxContainer",""],[1,"title","mb-3"],[1,"message-area"],[1,"col-sm-12","col-lg-3"],[1,"placeholder-box"],["src","https://placehold.co/300x600/png","alt","",1,"d-none","d-lg-block"],[1,"d-lg-none","text-center"],["src","https://placehold.co/360x360/png","alt",""]],template:function(n,f){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4,5)(6,"h6",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"loader"),t.qZA()()(),t.TgZ(10,"div",8)(11,"div",9),t._UZ(12,"img",10),t.TgZ(13,"div",11),t._UZ(14,"img",12),t.qZA()()()()()()),2&n&&(t.xp6(4),t.Q6J("user",f.user)("chatUser",f.chatUser),t.xp6(3),t.hij("You have ",f.uneadCount," unread conversations "))},dependencies:[h.x,m.R],styles:[".shadow[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important}.rounded[_ngcontent-%COMP%]{border-radius:6px!important}.rounded-md[_ngcontent-%COMP%]{border-radius:8px!important}.rounded-lg[_ngcontent-%COMP%]{border-radius:10px!important}.rounded-xl[_ngcontent-%COMP%]{border-radius:15px!important}.op-50[_ngcontent-%COMP%]{opacity:.5}.text-nano[_ngcontent-%COMP%]{font-size:10px}.text-xs[_ngcontent-%COMP%]{font-size:12px}.text-smr[_ngcontent-%COMP%]{font-size:13px}.text-sm[_ngcontent-%COMP%]{font-size:14px}.text-base[_ngcontent-%COMP%]{font-size:18px}.text-normal[_ngcontent-%COMP%]{font-size:16px}.text-regular[_ngcontent-%COMP%]{font-size:15px}h6[_ngcontent-%COMP%], .text-h6[_ngcontent-%COMP%]{font-size:20px}h5[_ngcontent-%COMP%], .text-h5[_ngcontent-%COMP%]{font-size:22px}h4[_ngcontent-%COMP%], .text-h4[_ngcontent-%COMP%]{font-size:24px}h3[_ngcontent-%COMP%], .text-h3[_ngcontent-%COMP%]{font-size:30px}h2[_ngcontent-%COMP%], .text-h2[_ngcontent-%COMP%]{font-size:34px}h1[_ngcontent-%COMP%], .text-h1[_ngcontent-%COMP%]{font-size:36px}.text-huge[_ngcontent-%COMP%]{font-size:50px}.text-big[_ngcontent-%COMP%]{font-size:38px}.ft-head[_ngcontent-%COMP%]{font-family:Metropolis,sans-serif;letter-spacing:.5px}.ft-default[_ngcontent-%COMP%]{font-family:Albert Sans,sans-serif;font-weight:400;letter-spacing:.2px}.ft-sp[_ngcontent-%COMP%]{font-family:Catamaran,sans-serif}.fw-light[_ngcontent-%COMP%]{font-weight:300}.fw-normal[_ngcontent-%COMP%]{font-weight:400}.fw-medium[_ngcontent-%COMP%]{font-weight:500}.fw-semibold[_ngcontent-%COMP%]{font-weight:600}.fw-bold[_ngcontent-%COMP%]{font-weight:700}.ls--2[_ngcontent-%COMP%]{letter-spacing:.2px}.ls--25[_ngcontent-%COMP%]{letter-spacing:.25px}.ls--4[_ngcontent-%COMP%]{letter-spacing:.4px}.ls--15[_ngcontent-%COMP%]{letter-spacing:1.5px}.lh-14[_ngcontent-%COMP%]{line-height:14px}.lh-18[_ngcontent-%COMP%]{line-height:18px}@media (max-width: 991px){.messages-wrapper[_ngcontent-%COMP%]   .placeholder-box[_ngcontent-%COMP%]{margin:30px 0 0}}"]}),d})()}];let g=(()=>{var o;class d{}return(o=d).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild(p),c.Bz]}),d})(),M=(()=>{var o;class d{}return(o=d).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.ez,x.B,i.m.forRoot(),g]}),d})()}}]);