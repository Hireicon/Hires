"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[406],{2870:(Q,L,d)=>{d.d(L,{b:()=>b});var s=d(5879),e=d(6223),D=d(1670),q=d(6814),Z=d(674);const y=["multiInputElem"],C=["badgeListElem"];function _(m,T){1&m&&(s.TgZ(0,"span",12),s._uU(1,"*"),s.qZA())}function f(m,T){if(1&m){const E=s.EpF();s.ynx(0),s.TgZ(1,"li",16),s.NdJ("click",function(){const v=s.CHM(E).$implicit,x=s.oxw(2);return s.KtG(x.handleSelectedItem(v))}),s._uU(2),s.qZA(),s.BQk()}if(2&m){const E=T.$implicit,h=s.oxw(2);s.xp6(2),s.Oqu(h.getItemData(E))}}function S(m,T){if(1&m&&(s.TgZ(0,"div",13)(1,"div",14),s.YNc(2,f,3,1,"ng-container",15),s.qZA()()),2&m){const E=s.oxw();s.xp6(2),s.Q6J("ngForOf",E.fieldList)}}function I(m,T){if(1&m){const E=s.EpF();s.TgZ(0,"li",17)(1,"span"),s._uU(2),s.qZA(),s.TgZ(3,"i",18),s.NdJ("click",function(){const v=s.CHM(E).$implicit,x=s.oxw();return s.KtG(x.removeBadge(v))}),s.qZA()()}if(2&m){const E=T.$implicit,h=s.oxw();s.xp6(2),s.Oqu(h.getSelectedItemData(E,h.fieldType))}}const g=function(m,T,E){return{"padding-left.px":m,"padding-top.px":T,"text-indent.px":E}};let b=(()=>{var m;class T{constructor(h){this.cdRef=h,this.fieldItemMinLimit=0,this.fieldItemMaxLimit=5,this.selectedItem=[],this.isExpanded=!1,this.leftPadding=10,this.topPadding=4,this.forceRequired="",this.queryChange=new s.vpe,this.inputChange=new s.vpe}isFieldRequired(){return this.fieldRequired}getItemData(h){let u=this.fieldType.split(","),v="";return u.forEach((x,J)=>{v=`${v+h[x]}${J!==u.length-1?", ":""}`}),v}handleModelChange(){this.fieldModel.length>1?(this.isExpanded=!0,this.queryChange.emit(this.fieldModel)):this.isExpanded=!1}compareObj(h,u){return JSON.stringify(h[this.fieldType])===JSON.stringify(u[this.fieldType])}pushObj(h,u){h.some(v=>this.compareObj(v,u))||h.push(u)}handleInputHeight(){let h=this.multiInputElem.nativeElement,u=this.badgeListElem.nativeElement;h.style.height=`${u.clientHeight+10}px`;const x=u.children[0].children,J=x[x.length-1];if(J){const k=J.offsetTop+2;this.leftPadding=J.offsetLeft+J.clientWidth+12,this.topPadding=k}else this.leftPadding=10,this.topPadding=4;h.focus()}handleSelectedItem(h){this.selectedItem.length<this.fieldItemMaxLimit&&(this.pushObj(this.selectedItem,h),this.inputChange.emit(this.selectedItem),this.fieldModel="",this.isExpanded=!1,setTimeout(()=>{this.handleInputHeight()},100)),this.selectedItem.length==this.fieldItemMaxLimit&&setTimeout(()=>{this.fieldModel="",this.multiInputElem.nativeElement.blur()},100)}handleTextIndent(){return this.selectedItem.length==this.fieldItemMaxLimit?-2e3:0}getSelectedItemData(h,u){let v=u.split(","),x="";return v.forEach((J,N)=>{x=`${x+h[J]}${N!==v.length-1?", ":""}`}),x}removeBadge(h){this.fieldModel="",this.selectedItem=this.selectedItem.filter((u,v)=>u[this.fieldType]!==h[this.fieldType]),this.inputChange.emit(this.selectedItem),setTimeout(()=>{this.handleInputHeight()},100)}clearModel(){this.fieldModel="",this.checkRequired()}checkRequired(){return!(this.selectedItem.length>=this.fieldItemMinLimit)}ngOnInit(){}ngOnChanges(h){!D.xb(this.editValue)&&this.isEdit&&!this.fieldModel&&D.xb(this.selectedItem)&&(this.selectedItem=[],this.editValue.forEach(u=>{this.handleSelectedItem(u)}))}}return(m=T).\u0275fac=function(h){return new(h||m)(s.Y36(s.sBO))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-multi-search-field"]],viewQuery:function(h,u){if(1&h&&(s.Gf(y,5),s.Gf(C,5)),2&h){let v;s.iGM(v=s.CRH())&&(u.multiInputElem=v.first),s.iGM(v=s.CRH())&&(u.badgeListElem=v.first)}},inputs:{fieldName:"fieldName",fieldText:"fieldText",fieldPlaceholder:"fieldPlaceholder",fieldModel:"fieldModel",fieldRequired:"fieldRequired",fieldList:"fieldList",fieldType:"fieldType",fieldItemMinLimit:"fieldItemMinLimit",fieldItemMaxLimit:"fieldItemMaxLimit",isEdit:"isEdit",editValue:"editValue"},outputs:{queryChange:"queryChange",inputChange:"inputChange"},features:[s._Bn([],[{provide:e.gN,useExisting:e.F}]),s.TTD],decls:13,vars:14,consts:[[1,"form-group"],[3,"for"],["class","ms-2 font-medium",4,"ngIf"],["type","text","autocomplete","off",1,"form-control","search","multi-search",3,"placeholder","name","ngModel","required","ngStyle","ngModelChange","blur"],["multiInputElem",""],[1,"search-control"],["aria-hidden","true",1,"fa","fa-search"],["class","dropdown-wrapper show",4,"ngIf"],[1,"badge-list"],["badgeListElem",""],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"ms-2","font-medium"],[1,"dropdown-wrapper","show"],[1,"list-group","dropdown"],[4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],[1,"list-inline-item"],["aria-hidden","true",1,"fa","fa-times","pointer",3,"click"]],template:function(h,u){1&h&&(s.TgZ(0,"div",0)(1,"label",1),s._uU(2),s.YNc(3,_,2,0,"span",2),s.qZA(),s.TgZ(4,"input",3,4),s.NdJ("ngModelChange",function(x){return u.fieldModel=x})("ngModelChange",function(){return u.handleModelChange()})("blur",function(){return u.clearModel()}),s.qZA(),s.TgZ(6,"span",5),s._UZ(7,"i",6),s.qZA(),s.YNc(8,S,3,1,"div",7),s.TgZ(9,"div",8,9)(11,"ul",10),s.YNc(12,I,4,1,"li",11),s.qZA()()()),2&h&&(s.xp6(1),s.s9C("for",u.fieldName),s.xp6(1),s.Oqu(u.fieldText),s.xp6(1),s.Q6J("ngIf",u.isFieldRequired()),s.xp6(1),s.s9C("placeholder",u.fieldPlaceholder),s.s9C("name",u.fieldName),s.Q6J("ngModel",u.fieldModel)("required",u.fieldRequired&&0==u.selectedItem.length)("ngStyle",s.kEZ(10,g,u.leftPadding,u.topPadding,u.handleTextIndent())),s.xp6(4),s.Q6J("ngIf",u.isExpanded),s.xp6(4),s.Q6J("ngForOf",u.selectedItem))},dependencies:[q.sg,q.O5,q.PC,e.Fj,e.JJ,e.Q7,e.On,Z.Co]}),T})()},1967:(Q,L,d)=>{d.d(L,{l:()=>_});var s=d(5879),e=d(6223),D=d(1670),q=d(6814);function Z(f,S){1&f&&(s.TgZ(0,"span",7),s._uU(1,"*"),s.qZA())}function y(f,S){if(1&f){const I=s.EpF();s.ynx(0),s.TgZ(1,"li",11),s.NdJ("click",function(){const m=s.CHM(I).$implicit,T=s.oxw(2);return s.KtG(T.getSelectedItem(m))}),s._uU(2),s.qZA(),s.BQk()}if(2&f){const I=S.$implicit,g=s.oxw(2);s.xp6(1),s.Q6J("ngClass",g.isSelectedItem(I,g.fieldModel)),s.xp6(1),s.hij(" ",I[g.fieldType]," ")}}function C(f,S){if(1&f&&(s.TgZ(0,"div",8)(1,"div",9),s.YNc(2,y,3,2,"ng-container",10),s.qZA()()),2&f){const I=s.oxw();s.xp6(2),s.Q6J("ngForOf",I.fieldList)}}let _=(()=>{var f;class S{constructor(g){this.element=g,this.inputChange=new s.vpe,this.isExpanded=!1}showFieldItems(){this.isExpanded=!0}isFieldRequired(){return this.fieldRequired}getSelectedItem(g){this.fieldModel=g[this.fieldType],this.inputChange.emit(g)}isSelectedItem(g,b){return g[this.fieldType]==b?"selected":""}onDocumentClick(g){g.stopPropagation();var b=this.element.nativeElement.querySelector(".select"),m=this.element.nativeElement.querySelector(".select-arrow");!b.contains(g.target)&&!m.contains(g.target)&&(this.isExpanded=!1)}ngOnInit(){}ngOnChanges(g){if(this.isEdit&&this.editValue&&!D.xb(this.fieldList)){let b=this.fieldList?.filter(m=>m.id==this.editValue);this.fieldModel=b[0][this.fieldType],this.inputChange.emit(b[0])}}ngDoCheck(){("null"==this.fieldModel||"undefined"==this.fieldModel||0==this.fieldModel)&&(this.fieldModel=null)}}return(f=S).\u0275fac=function(g){return new(g||f)(s.Y36(s.SBq))},f.\u0275cmp=s.Xpm({type:f,selectors:[["app-select-field"]],hostBindings:function(g,b){1&g&&s.NdJ("click",function(T){return b.onDocumentClick(T)},!1,s.evT)},inputs:{fieldName:"fieldName",fieldText:"fieldText",fieldPlaceholder:"fieldPlaceholder",fieldModel:"fieldModel",fieldRequired:"fieldRequired",fieldList:"fieldList",fieldType:"fieldType",isEdit:"isEdit",editValue:"editValue"},outputs:{inputChange:"inputChange"},features:[s._Bn([],[{provide:e.gN,useExisting:e.F}]),s.TTD],decls:8,vars:9,consts:[[1,"form-group"],[3,"for"],["class","ms-2 font-medium",4,"ngIf"],[1,"select-wrapper",3,"click"],["type","text","autocomplete","off","readonly","",1,"form-control","select",3,"placeholder","name","ngModel","required","ngModelChange"],[1,"select-arrow",3,"ngClass"],["class","dropdown-wrapper show",4,"ngIf"],[1,"ms-2","font-medium"],[1,"dropdown-wrapper","show"],[1,"list-group","dropdown"],[4,"ngFor","ngForOf"],[1,"list-group-item",3,"ngClass","click"]],template:function(g,b){1&g&&(s.TgZ(0,"div",0)(1,"label",1),s._uU(2),s.YNc(3,Z,2,0,"span",2),s.qZA(),s.TgZ(4,"div",3),s.NdJ("click",function(){return b.showFieldItems()}),s.TgZ(5,"input",4),s.NdJ("ngModelChange",function(T){return b.fieldModel=T}),s.qZA(),s._UZ(6,"span",5),s.YNc(7,C,3,1,"div",6),s.qZA()()),2&g&&(s.xp6(1),s.s9C("for",b.fieldName),s.xp6(1),s.Oqu(b.fieldText),s.xp6(1),s.Q6J("ngIf",b.isFieldRequired()),s.xp6(2),s.s9C("placeholder",b.fieldPlaceholder),s.s9C("name",b.fieldName),s.Q6J("ngModel",b.fieldModel)("required",b.fieldRequired),s.xp6(1),s.Q6J("ngClass",b.isExpanded?"up":"down"),s.xp6(1),s.Q6J("ngIf",b.isExpanded))},dependencies:[q.mk,q.sg,q.O5,e.Fj,e.JJ,e.Q7,e.On]}),S})()},2742:(Q,L,d)=>{d.d(L,{F:()=>Z});var s=d(5619),e=d(9862),D=d(5879);new e.WM({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"});let Z=(()=>{var y;class C{constructor(f){this.http=f,this.passwordreset=new s.X(!1),this.passwordresetcast=this.passwordreset.asObservable(),this.skillSetData=new s.X(null),this.skillsetdatacast=this.skillSetData.asObservable(),this.locationSetData=new s.X(null),this.locationsetdatacast=this.locationSetData.asObservable(),this.sideNavData=new s.X(null),this.sidenavdatacast=this.sideNavData.asObservable()}isResetPassword(f){this.passwordreset.next(f)}getJsonData(){return this.http.get("assets/json/data.json")}setSkillData(f){this.skillSetData.next(f)}setLocationData(f){this.locationSetData.next(f)}setSideNavData(f){this.sideNavData.next(f)}getSideNavData(){return this.sideNavData.value}}return(y=C).\u0275fac=function(f){return new(f||y)(D.LFG(e.eN))},y.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),C})()},5071:(Q,L,d)=>{d.d(L,{v:()=>a});var s=d(1670),e=d(5879),D=d(9945),q=d(930),Z=d(2742),y=d(9229),C=d(6814),_=d(6223),f=d(1967);const S=["multiInputElem"],I=["badgeListElem"];function g(l,c){1&l&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function b(l,c){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"li",16),e.NdJ("click",function(){const o=e.CHM(n).$implicit,r=e.oxw(2);return e.KtG(r.handleSelectedItem(o))}),e._uU(2),e.qZA(),e.BQk()}if(2&l){const n=c.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(n[i.fieldType])}}function m(l,c){if(1&l&&(e.TgZ(0,"div",13)(1,"div",14),e.YNc(2,b,3,1,"ng-container",15),e.qZA()()),2&l){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",n.fieldList)}}function T(l,c){if(1&l){const n=e.EpF();e.TgZ(0,"li",17)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"i",18),e.NdJ("click",function(){const o=e.CHM(n).$implicit,r=e.oxw();return e.KtG(r.removeBadge(o))}),e.qZA()()}if(2&l){const n=c.$implicit,i=e.oxw();e.xp6(2),e.Oqu(n[i.fieldType])}}const E=function(l,c){return{"padding-left.px":l,"padding-top.px":c}};let h=(()=>{var l;class c{constructor(i){this.element=i,this.fieldItemMinLimit=0,this.fieldItemMaxLimit=99,this.selectedItem=[],this.isExpanded=!1,this.leftPadding=10,this.topPadding=4,this.inputChange=new e.vpe,this.isChecked=!1}isFieldRequired(){return this.fieldRequired}showFieldItems(){this.isExpanded=!0}compareObj(i,t){return JSON.stringify(i)===JSON.stringify(t)}pushObj(i,t){i.some(o=>this.compareObj(o,t))||i.push(t)}handleSelectedItem(i){this.selectedItem.length<this.fieldItemMaxLimit&&(this.pushObj(this.selectedItem,i),this.inputChange.emit(this.selectedItem),this.fieldModel="",this.isExpanded=!1,setTimeout(()=>{this.handleInputHeight()},100)),this.selectedItem.length==this.fieldItemMaxLimit&&setTimeout(()=>{this.fieldModel="",this.multiInputElem.nativeElement.blur()},100)}handleInputHeight(){let i=this.multiInputElem.nativeElement,t=this.badgeListElem.nativeElement;i.style.height=`${t.clientHeight+10}px`;const r=t.children[0].children,p=r[r.length-1];if(p){const O=p.offsetTop+2;this.leftPadding=p.offsetLeft+p.clientWidth+12,this.topPadding=O}else this.leftPadding=10,this.topPadding=4;i.focus()}removeBadge(i){this.fieldModel="",this.selectedItem=this.selectedItem.filter((t,o)=>t[this.fieldType]!==i[this.fieldType]),this.inputChange.emit(this.selectedItem),setTimeout(()=>{this.handleInputHeight()},100)}clearModel(){this.fieldModel="",this.checkRequired()}checkRequired(){return!(this.selectedItem.length>=this.fieldItemMinLimit)}onDocumentClick(i){i.stopPropagation();var t=this.element.nativeElement.querySelector(".select"),o=this.element.nativeElement.querySelector(".select-arrow");!t.contains(i.target)&&!o.contains(i.target)&&(this.isExpanded=!1)}getItemData(i){let t=this.fieldType.split(","),o="";return t.forEach((r,p)=>{o=`${o+i[r]}${p!==t.length-1?", ":""}`}),o}}return(l=c).\u0275fac=function(i){return new(i||l)(e.Y36(e.SBq))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-multi-select-field"]],viewQuery:function(i,t){if(1&i&&(e.Gf(S,5),e.Gf(I,5)),2&i){let o;e.iGM(o=e.CRH())&&(t.multiInputElem=o.first),e.iGM(o=e.CRH())&&(t.badgeListElem=o.first)}},hostBindings:function(i,t){1&i&&e.NdJ("click",function(r){return t.onDocumentClick(r)},!1,e.evT)},inputs:{fieldName:"fieldName",fieldText:"fieldText",fieldRequired:"fieldRequired",fieldPlaceholder:"fieldPlaceholder",fieldType:"fieldType",fieldModel:"fieldModel",fieldList:"fieldList",fieldItemMinLimit:"fieldItemMinLimit",fieldItemMaxLimit:"fieldItemMaxLimit"},outputs:{inputChange:"inputChange"},features:[e._Bn([],[{provide:_.gN,useExisting:_.F}])],decls:13,vars:14,consts:[[1,"form-group"],[3,"for"],["class","ms-2 font-medium",4,"ngIf"],[1,"select-wrapper",3,"click"],["type","text","autocomplete","off","readonly","",1,"form-control","select",3,"placeholder","name","ngModel","required","ngStyle","ngModelChange","blur"],["multiInputElem",""],[1,"select-arrow",3,"ngClass"],["class","dropdown-wrapper show",4,"ngIf"],[1,"badge-list"],["badgeListElem",""],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"ms-2","font-medium"],[1,"dropdown-wrapper","show"],[1,"list-group","dropdown"],[4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],[1,"list-inline-item"],["aria-hidden","true",1,"fa","fa-times","pointer",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.YNc(3,g,2,0,"span",2),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return t.showFieldItems()}),e.TgZ(5,"input",4,5),e.NdJ("ngModelChange",function(r){return t.fieldModel=r})("blur",function(){return t.clearModel()}),e.qZA(),e._UZ(7,"span",6),e.YNc(8,m,3,1,"div",7),e.TgZ(9,"div",8,9)(11,"ul",10),e.YNc(12,T,4,1,"li",11),e.qZA()()()()),2&i&&(e.xp6(1),e.s9C("for",t.fieldName),e.xp6(1),e.Oqu(t.fieldText),e.xp6(1),e.Q6J("ngIf",t.isFieldRequired()),e.xp6(2),e.s9C("placeholder",t.fieldPlaceholder),e.s9C("name",t.fieldName),e.Q6J("ngModel",t.fieldModel)("required",t.checkRequired())("ngStyle",e.WLB(11,E,t.leftPadding,t.topPadding)),e.xp6(2),e.Q6J("ngClass",t.isExpanded?"up":"down"),e.xp6(1),e.Q6J("ngIf",t.isExpanded),e.xp6(4),e.Q6J("ngForOf",t.selectedItem))},dependencies:[C.mk,C.sg,C.O5,C.PC,_.Fj,_.JJ,_.Q7,_.On]}),c})();var u=d(2870),v=d(3963);const x=["postJobsForm"];function J(l,c){1&l&&(e.TgZ(0,"div",44),e._uU(1," Name required "),e.qZA())}function N(l,c){if(1&l&&(e.TgZ(0,"div",42),e.YNc(1,J,2,0,"div",43),e.qZA()),2&l){e.oxw();const n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==n.controls.name.errors?null:n.controls.name.errors.required)}}function k(l,c){1&l&&(e.TgZ(0,"div",44),e._uU(1," Position type required "),e.qZA())}function U(l,c){if(1&l&&(e.TgZ(0,"div",45),e.YNc(1,k,2,0,"div",43),e.qZA()),2&l){e.oxw();const n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==n.controls.jobTypeId.errors?null:n.controls.jobTypeId.errors.required)}}function B(l,c){1&l&&(e.TgZ(0,"div",44),e._uU(1," Job type required "),e.qZA())}function z(l,c){if(1&l&&(e.TgZ(0,"div",45),e.YNc(1,B,2,0,"div",43),e.qZA()),2&l){e.oxw();const n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==n.controls.employmentTypeId.errors?null:n.controls.employmentTypeId.errors.required)}}function Y(l,c){1&l&&(e.TgZ(0,"div",44),e._uU(1," Visa required "),e.qZA())}function H(l,c){if(1&l&&(e.TgZ(0,"div",45),e.YNc(1,Y,2,0,"div",43),e.qZA()),2&l){e.oxw();const n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==n.controls.visaId.errors?null:n.controls.visaId.errors.required)}}function w(l,c){1&l&&(e.TgZ(0,"div",44),e._uU(1," Job location required "),e.qZA())}function j(l,c){if(1&l&&(e.TgZ(0,"div",45),e.YNc(1,w,2,0,"div",43),e.qZA()),2&l){e.oxw();const n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==n.controls.cityId.errors?null:n.controls.cityId.errors.required)}}function W(l,c){1&l&&(e.TgZ(0,"div",44),e._uU(1," Job description required "),e.qZA())}function V(l,c){if(1&l&&(e.TgZ(0,"div",46),e.YNc(1,W,2,0,"div",43),e.qZA()),2&l){e.oxw();const n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==n.controls.description.errors?null:n.controls.description.errors.required)}}function G(l,c){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",33)(2,"input",47),e.NdJ("ngModelChange",function(t){e.CHM(n);const o=e.oxw();return e.KtG(o.selectDirectClient=t)})("change",function(){const o=e.CHM(n).$implicit,r=e.oxw();return e.KtG(r.onDirectClientChange(o.value))}),e.qZA(),e.TgZ(3,"label",48),e._uU(4),e.qZA()(),e.BQk()}if(2&l){const n=c.$implicit,i=e.oxw();e.xp6(2),e.Q6J("id",n.id)("value",n.value)("ngModel",i.selectDirectClient)("required",!0),e.xp6(1),e.Q6J("for",n.id),e.xp6(1),e.hij(" ",n.label," ")}}function K(l,c){1&l&&(e.TgZ(0,"div",44),e._uU(1," Direct client required "),e.qZA())}function $(l,c){if(1&l&&(e.TgZ(0,"div",49),e.YNc(1,K,2,0,"div",43),e.qZA()),2&l){e.oxw();const n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",null==n.controls.directClientId.errors?null:n.controls.directClientId.errors.required)}}let a=(()=>{var l;class c{constructor(i,t,o,r,p){this.commonService=i,this.sessionService=t,this.sharedService=o,this.toastr=r,this.jobOpeningService=p,this.isEdit=!1,this.formData={name:"",jobTypeId:null,employmentTypeId:null,visaId:null,cityId:null,description:"",jobOpeningJobTypes:[],jobOpeningEmploymentTypes:[],jobOpeningVisaMaps:[],jobOpeningLocations:[],jobOpeningSkills:[],totalExp:null,directClientId:null,fromAmt:0,toAmt:0},this.selectBillingList=[{id:1,range:"Less than 50"},{id:2,range:"50-60"},{id:3,range:"60-70"},{id:4,range:"70-80"},{id:5,range:"80-90"},{id:6,range:"90-100"},{id:7,range:"100+"}],this.directClientList=[{label:"Yes",value:!0,id:"directClientYes"},{label:"No",value:!1,id:"directClientNo"},{label:"Not Disclosed",value:"null",id:"directClientNotDisclosed"}],this.selectDirectClient="",this.editorPlacehorder="Text here...",this.postedDate=new Date,this.lastDate=new Date,this.isFormSubmitted=!1,this.job={}}onPositionTypeChange(i){let t=[];s.xb(i)?(this.formData.jobOpeningJobTypes=[],this.formData.jobTypeId=null):(i.forEach(o=>{t.push({jobTypeId:o.id,active:!0})}),this.formData.jobOpeningJobTypes=t,this.formData.jobTypeId=i[0].id)}onEmploymentTypeChange(i){let t=[];s.xb(i)?(this.formData.jobOpeningEmploymentTypes=[],this.formData.employmentTypeId=null):(i.forEach(o=>{t.push({employmentTypeId:o.id,active:!0})}),this.formData.jobOpeningEmploymentTypes=t,this.formData.employmentTypeId=i[0].id)}onVisaMapChange(i){this.formData.jobOpeningVisaMaps=i,this.formData.visaId=i.id;let t=[];s.xb(i)?(this.formData.jobOpeningVisaMaps=[],this.formData.visaId=null):(i.forEach(o=>{t.push({visaId:o.id})}),this.formData.jobOpeningVisaMaps=t,this.formData.visaId=i[0].id)}onLocationQuery(i){this.commonService.apiCommonCityGet(i,void 0,!1).subscribe({next:t=>{this.selectLocationList=t.value},error:t=>{}})}onLocationChange(i){let t=[];s.xb(i)?(this.formData.jobOpeningLocations=[],this.formData.cityId=null):(i.forEach(o=>{t.push({cityId:o.id,numberOfOpenings:0})}),this.formData.jobOpeningLocations=t,this.formData.cityId=i[0].id)}onSkillQuery(i){this.commonService.apiCommonSkillsGet(i).subscribe({next:t=>{this.selectSkillList=t.value},error:t=>{}})}onSelectedSkills(i){let t=[];s.xb(i)?(this.formData.jobOpeningSkills=[],this.formData.skillId=null):(i.forEach(o=>{t.push({skillId:o.id,isMandate:!0,active:!0})}),this.formData.jobOpeningSkills=t,this.formData.skillId=i[0].id)}onBillingListChange(i){let o=i.range.split("-");1!=o.length?(this.formData.fromAmt=o[0],this.formData.toAmt=o[1]):(this.formData.fromAmt=0,this.formData.toAmt=50)}onDirectClientChange(i){this.selectDirectClient=i}onContentChanged(i){}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}postJob(){for(const i in this.postJobsForm.controls)this.postJobsForm.controls.hasOwnProperty(i)&&this.postJobsForm.controls[i].invalid&&console.log(`Invalid field: ${i}`);this.postJobsForm.valid?(this.job={name:this.formData.name,country:"USA",joiningdays:0,description:this.formData.description,totalExp:parseInt(this.formData.totalExp),postedDate:(new Date).toISOString(),lastDate:(new Date).toISOString(),numberOfOpening:0,active:!0,consultancyUserId:this.sessionService.consultancyUserId,priorityId:0,categoryId:1,jobLocation:"string",postalcode:"string",projectStartId:8,directClient:"null"==this.selectDirectClient?null:this.selectDirectClient,isReviewed:!0,fromAmt:this.formData.fromAmt,toAmt:this.formData.toAmt,notifyOnCandidateProfileMap:this.formData.notifyOnCandidateProfileMap,notifyWithResume:this.formData.notifyWithResume,localCandidatePref:this.formData.localCandidatePref,localCandidateOnly:!0,isExpired:!0,jobOpeningSkills:this.formData.jobOpeningSkills,jobOpeningVisaMaps:this.formData.jobOpeningVisaMaps,jobOpeningLocations:this.formData.jobOpeningLocations,jobOpeningEmploymentTypes:this.formData.jobOpeningEmploymentTypes,jobOpeningJobTypes:this.formData.jobOpeningJobTypes},this.jobOpeningService.apiJobOpeningAddPost(this.job).subscribe({next:i=>{this.toastr.success("Job posted successfully","",{timeOut:3e3,positionClass:"toast-top-center"}),this.scrollToTop()},error:i=>{this.toastr.error("Some error occured","",{timeOut:3e3,positionClass:"toast-top-center"}),this.scrollToTop()}})):this.scrollToTop()}ngOnInit(){console.log(this.isEdit),this.commonService.apiCommonJobTypeGet().subscribe({next:i=>{this.selectJobPositionTypeList=i.value},error:i=>{}}),this.commonService.apiCommonEmploymentTypeGet().subscribe({next:i=>{this.selectEmploymentTypeList=i.value},error:i=>{}}),this.commonService.apiCommonVisaGet().subscribe({next:i=>{this.selectVisaMapsList=i.value},error:i=>{}}),this.sharedService.skillsetdatacast.subscribe(i=>{this.selectSkillList=i})}}return(l=c).\u0275fac=function(i){return new(i||l)(e.Y36(D.v_),e.Y36(q.m),e.Y36(Z.F),e.Y36(y._W),e.Y36(D.UK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["post-job-details"]],viewQuery:function(i,t){if(1&i&&e.Gf(x,5),2&i){let o;e.iGM(o=e.CRH())&&(t.postJobsForm=o.first)}},inputs:{isEdit:"isEdit"},decls:80,vars:29,consts:[["name","postJobsForm","novalidate","",3,"ngSubmit"],["postJobsForm","ngForm"],[1,"form-box"],[1,"row"],[1,"col-sm-6"],[1,"input-box"],[1,"form-group"],["for","name"],[1,"req"],["type","text","placeholder","Title","name","name","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["class","mt-2",4,"ngIf"],[1,"input-box","select-box"],["fieldName","jobTypeId","fieldText","Position Type","fieldPlaceholder","Position type","fieldType","description","fieldItemMinLimit","1",3,"fieldRequired","fieldList","inputChange"],["class","my-3",4,"ngIf"],["fieldName","employmentTypeId","fieldText","Job Type","fieldPlaceholder","Job type","fieldType","description","fieldItemMinLimit","1",3,"fieldRequired","fieldList","inputChange"],["fieldName","visaId","fieldText","Visa Applicable","fieldPlaceholder","Visa","fieldType","name","fieldItemMinLimit","1",3,"fieldRequired","fieldList","inputChange"],[1,"input-box","search-box"],["fieldName","cityId","fieldText","Job Location","fieldType","city1,stateName,countryName","fieldPlaceholder","Enter","fieldItemMinLimit","1",3,"fieldRequired","fieldList","queryChange","inputChange"],[1,"col-sm-12"],[1,"form-group","ov"],["for","description"],["name","description",1,"quill-editor",3,"placeholder","ngModel","required","ngModelChange","onContentChanged"],["class","py-2 clear",4,"ngIf"],["fieldName","skillId","fieldText","Skills ( Add maximum 5 skills)","fieldType","name","fieldPlaceholder","Skill","fieldItemMaxLimit","5",3,"fieldRequired","fieldList","queryChange","inputChange"],["fieldName","billingRangeId","fieldText","Salary Range","fieldType","range","fieldPlaceholder","Market",3,"fieldRequired","fieldList","editValue","inputChange"],["for","totalExp"],["type","text","placeholder","Enter","name","totalExp","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["postJobExperience",""],[1,"col-md-6"],[1,"form-group","mb-4"],[1,"d-flex","mt-1"],[4,"ngFor","ngForOf"],["class","mt-1",4,"ngIf"],[1,"form-check"],["type","checkbox","id","localCandidatePref","name","localCandidatePref","required","",1,"form-check-input","filled",3,"ngModel","ngModelChange"],["for","localCandidatePref",1,"form-check-label"],["type","checkbox","id","notifyOnCandidateProfileMap","name","notifyOnCandidateProfileMap","required","",1,"form-check-input","filled",3,"ngModel","ngModelChange"],["for","notifyOnCandidateProfileMap",1,"form-check-label"],["type","checkbox","id","notifyWithResume","name","notifyWithResume","required","",1,"form-check-input","filled",3,"ngModel","ngModelChange"],["for","notifyWithResume",1,"form-check-label"],[1,"submit-box"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"mt-2"],["class","input-field-message",4,"ngIf"],[1,"input-field-message"],[1,"my-3"],[1,"py-2","clear"],["type","radio","name","directClientId",1,"form-check-input",3,"id","value","ngModel","required","ngModelChange","change"],[1,"form-check-label",3,"for"],[1,"mt-1"]],template:function(i,t){if(1&i&&(e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return t.postJob()}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e._uU(8,"Job Title "),e.TgZ(9,"span",8),e._uU(10,"*"),e.qZA()(),e.TgZ(11,"input",9),e.NdJ("ngModelChange",function(r){return t.formData.name=r}),e.qZA(),e.YNc(12,N,2,1,"div",10),e.qZA()()(),e.TgZ(13,"div",4)(14,"div",11)(15,"app-multi-select-field",12),e.NdJ("inputChange",function(r){return t.onPositionTypeChange(r)}),e.qZA(),e.YNc(16,U,2,1,"div",13),e.qZA()(),e.TgZ(17,"div",4)(18,"div",11)(19,"app-multi-select-field",14),e.NdJ("inputChange",function(r){return t.onEmploymentTypeChange(r)}),e.qZA(),e.YNc(20,z,2,1,"div",13),e.qZA()(),e.TgZ(21,"div",4)(22,"div",11)(23,"app-multi-select-field",15),e.NdJ("inputChange",function(r){return t.onVisaMapChange(r)}),e.qZA(),e.YNc(24,H,2,1,"div",13),e.qZA()(),e.TgZ(25,"div",4)(26,"div",16)(27,"app-multi-search-field",17),e.NdJ("queryChange",function(r){return t.onLocationQuery(r)})("inputChange",function(r){return t.onLocationChange(r)}),e.qZA(),e.YNc(28,j,2,1,"div",13),e.qZA()(),e.TgZ(29,"div",18)(30,"div",5)(31,"div",19)(32,"label",20),e._uU(33,"Job Description"),e.TgZ(34,"span",8),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"quill-editor",21),e.NdJ("ngModelChange",function(r){return t.formData.description=r})("onContentChanged",function(r){return t.onContentChanged(r)}),e.qZA(),e.YNc(37,V,2,1,"div",22),e.qZA()()(),e.TgZ(38,"div",4)(39,"div",16)(40,"app-multi-search-field",23),e.NdJ("queryChange",function(r){return t.onSkillQuery(r)})("inputChange",function(r){return t.onSelectedSkills(r)}),e.qZA()()(),e.TgZ(41,"div",4)(42,"div",11)(43,"app-select-field",24),e.NdJ("inputChange",function(r){return t.onBillingListChange(r)}),e.qZA()()(),e.TgZ(44,"div",4)(45,"div",5)(46,"div",6)(47,"label",25),e._uU(48,"Total years of Exp"),e.qZA(),e.TgZ(49,"input",26,27),e.NdJ("ngModelChange",function(r){return t.formData.totalExp=r}),e.qZA()()()(),e.TgZ(51,"div",28)(52,"div",5)(53,"div",29)(54,"label"),e._uU(55,"Direct Client (Y/N) "),e.TgZ(56,"span",8),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"div",30),e.YNc(59,G,5,6,"ng-container",31),e.qZA(),e.YNc(60,$,2,1,"div",32),e.qZA()()()(),e.TgZ(61,"div",3)(62,"div",18)(63,"div",5)(64,"div",6)(65,"div",33)(66,"input",34),e.NdJ("ngModelChange",function(r){return t.formData.localCandidatePref=r}),e.qZA(),e.TgZ(67,"label",35),e._uU(68,"Local candidate preferred"),e.qZA()(),e.TgZ(69,"div",33)(70,"input",36),e.NdJ("ngModelChange",function(r){return t.formData.notifyOnCandidateProfileMap=r}),e.qZA(),e.TgZ(71,"label",37),e._uU(72,"Receive an individual email update each time someone applies"),e.qZA()(),e.TgZ(73,"div",33)(74,"input",38),e.NdJ("ngModelChange",function(r){return t.formData.notifyWithResume=r}),e.qZA(),e.TgZ(75,"label",39),e._uU(76,"Receive resume as an attachment in email "),e.qZA()()()()()(),e.TgZ(77,"div",40)(78,"button",41),e._uU(79," Submit "),e.qZA()()()()),2&i){const o=e.MAs(1);e.xp6(11),e.Q6J("ngModel",t.formData.name),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.name.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldList",t.selectJobPositionTypeList),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.jobTypeId.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldList",t.selectEmploymentTypeList),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.employmentTypeId.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldList",t.selectVisaMapsList),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.visaId.invalid),e.xp6(3),e.Q6J("fieldRequired",!0)("fieldList",t.selectLocationList),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.cityId.invalid),e.xp6(8),e.Q6J("placeholder",t.editorPlacehorder)("ngModel",t.formData.description)("required",!0),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.description.invalid),e.xp6(3),e.Q6J("fieldRequired",!1)("fieldList",t.selectSkillList),e.xp6(3),e.Q6J("fieldRequired",!1)("fieldList",t.selectBillingList)("editValue",t.formData.billingRangeId),e.xp6(6),e.Q6J("ngModel",t.formData.totalExp),e.xp6(10),e.Q6J("ngForOf",t.directClientList),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.controls.directClientId.invalid),e.xp6(6),e.Q6J("ngModel",t.formData.localCandidatePref),e.xp6(4),e.Q6J("ngModel",t.formData.notifyOnCandidateProfileMap),e.xp6(4),e.Q6J("ngModel",t.formData.notifyWithResume)}},dependencies:[C.sg,C.O5,_._Y,_.Fj,_.Wl,_._,_.JJ,_.JL,_.Q7,_.Zs,_.On,_.F,f.l,h,u.b,v.g6]}),c})()},1051:(Q,L,d)=>{d.d(L,{p:()=>Z});var s=d(6814),e=d(5950),D=d(3963),q=d(5879);let Z=(()=>{var y;class C{}return(y=C).\u0275fac=function(f){return new(f||y)},y.\u0275mod=q.oAB({type:y}),y.\u0275inj=q.cJS({imports:[s.ez,e.m.forRoot(),D.fi.forRoot({modules:{syntax:!0,toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}})]}),C})()},3963:(Q,L,d)=>{d.d(L,{g6:()=>V,fi:()=>$});var s=d(5861),e=d(5879);const D={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},q=new e.OlP("config",{providedIn:"root",factory:()=>({modules:D})});var C=d(6814),_=d(6593),f=d(4911),S=d(2664),I=d(6973),g=d(305);function b(a,l){const c="object"==typeof l;return new Promise((n,i)=>{const t=new g.Hp({next:o=>{n(o),t.unsubscribe()},error:i,complete:()=>{c?n(l.defaultValue):i(new I.K)}});a.subscribe(t)})}var m=d(7394),T=d(2438),E=d(940),h=d(9769),u=d(3620),v=d(6223);function x(a,l){1&a&&e._UZ(0,"pre",3)}function J(a,l){if(1&a&&e.YNc(0,x,1,0,"pre",2),2&a){const c=e.oxw(),n=e.MAs(4);e.Q6J("ngIf",c.preserve)("ngIfElse",n)}}function N(a,l){1&a&&e._UZ(0,"pre",3)}function k(a,l){if(1&a&&e.YNc(0,N,1,0,"pre",2),2&a){const c=e.oxw(),n=e.MAs(4);e.Q6J("ngIf",c.preserve)("ngIfElse",n)}}function U(a,l){1&a&&e._UZ(0,"div",3)}const B=[[["","quill-editor-toolbar",""]]],z=["[quill-editor-toolbar]"];function Y(a,l){1&a&&e._UZ(0,"div",1)}function H(a,l){1&a&&e._UZ(0,"pre",1)}const w=(a,l)=>a||l||"html";let j=(()=>{var a;class l{constructor(n,i){var t=this;this.config=i,this.quill$=(0,f.P)((0,s.Z)(function*(){if(!t.Quill){const o=t.document.addEventListener;t.document.addEventListener=t.document.__zone_symbol__addEventListener||t.document.addEventListener;const r=yield d.e(125).then(d.t.bind(d,7536,19));t.document.addEventListener=o,t.Quill=r.default?r.default:r}return t.config.customOptions?.forEach(o=>{const r=t.Quill.import(o.import);r.whitelist=o.whitelist,t.Quill.register(r,!0,t.config.suppressGlobalRegisterWarning)}),yield t.registerCustomModules(t.Quill,t.config.customModules,t.config.suppressGlobalRegisterWarning)})).pipe((0,E.d)({bufferSize:1,refCount:!0})),this.document=n.get(C.K0),this.config||(this.config={modules:D})}getQuill(){return this.quill$}registerCustomModules(n,i,t){return(0,s.Z)(function*(){if(Array.isArray(i))for(let{implementation:o,path:r}of i)(0,S.b)(o)&&(o=yield b(o)),n.register(r,o,t);return n})()}}return(a=l).\u0275fac=function(n){return new(n||a)(e.LFG(e.zs3),e.LFG(q,8))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),l})(),W=(()=>{var a;class l{constructor(){this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onNativeFocus=new e.vpe,this.onNativeBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.elementRef=(0,e.f3M)(e.SBq),this.document=(0,e.f3M)(C.K0),this.cd=(0,e.f3M)(e.sBO),this.domSanitizer=(0,e.f3M)(_.H7),this.platformId=(0,e.f3M)(e.Lbi),this.renderer=(0,e.f3M)(e.Qsj),this.zone=(0,e.f3M)(e.R0b),this.service=(0,e.f3M)(j),this.valueGetter=(n,i)=>{let t=i.querySelector(".ql-editor").innerHTML;("<p><br></p>"===t||"<div><br></div>"===t)&&(t=this.defaultEmptyValue);let o=t;const r=w(this.format,this.service.config.format);if("text"===r)o=n.getText();else if("object"===r)o=n.getContents();else if("json"===r)try{o=JSON.stringify(n.getContents())}catch{o=n.getText()}return o},this.valueSetter=(n,i)=>{const t=w(this.format,this.service.config.format);if("html"===t)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(i=this.domSanitizer.sanitize(e.q3G.HTML,i)),n.clipboard.convert(i);if("json"===t)try{return JSON.parse(i)}catch{return[{insert:i}]}return i},this.selectionChangeHandler=(n,i,t)=>{const o=!n&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!o||this.zone.run(()=>{null===n?this.onBlur.emit({editor:this.quillEditor,source:t}):null===i&&this.onFocus.emit({editor:this.quillEditor,source:t}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:i,range:n,source:t}),o&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(n,i,t)=>{const o=this.quillEditor.getText(),r=this.quillEditor.getContents();let p=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===p||"<div><br></div>"===p)&&(p=this.defaultEmptyValue);const M=this.trackChanges||this.service.config.trackChanges,O=("user"===t||M&&"all"===M)&&!!this.onModelChange;!this.onContentChanged.observed&&!O||this.zone.run(()=>{O&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:r,delta:n,editor:this.quillEditor,html:p,oldDelta:i,source:t,text:o}),this.cd.markForCheck()})},this.editorChangeHandler=(n,i,t,o)=>{if(this.onEditorChanged.observed)if("text-change"===n){const r=this.quillEditor.getText(),p=this.quillEditor.getContents();let M=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===M||"<div><br></div>"===M)&&(M=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:p,delta:i,editor:this.quillEditor,event:n,html:M,oldDelta:t,source:o,text:r}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:n,oldRange:t,range:i,source:o}),this.cd.markForCheck()})}}static normalizeClassNames(n){return n.trim().split(" ").reduce((t,o)=>{const r=o.trim();return r&&t.push(r),t},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,C.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,h.z)(n=>{const i=[this.service.registerCustomModules(n,this.customModules)],t=this.beforeRender??this.service.config.beforeRender;return t&&i.push(t()),Promise.all(i).then(()=>n)})).subscribe(n=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),t=Object.assign({},this.modules||this.service.config.modules);i?t.toolbar=i:void 0===t.toolbar&&(t.toolbar=D.toolbar);let o=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===o&&(o="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(P=>{this.renderer.setStyle(this.editorElem,P,this.styles[P])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(P=>{const R=n.import(P.import);R.whitelist=P.whitelist,n.register(R,!0)});let r=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;r||(r=this.service.config.bounds?this.service.config.bounds:this.document.body);let p=this.debug;!p&&!1!==p&&this.service.config.debug&&(p=this.service.config.debug);let M=this.readOnly;!M&&!1!==this.readOnly&&(M=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let O=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(O=this.service.config.defaultEmptyValue);let A=this.scrollingContainer;!A&&null!==this.scrollingContainer&&(A=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let F=this.formats;if(!F&&void 0===F&&(F=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new n(this.editorElem,{bounds:r,debug:p,formats:F,modules:t,placeholder:o,readOnly:M,defaultEmptyValue:O,scrollingContainer:A,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container.addEventListener("mousedown",P=>P.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder){const R=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");R?.dataset&&(R.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===w(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const R=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(R,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(n){if(this.quillEditor){if(n.readOnly&&this.quillEditor.enable(!n.readOnly.currentValue),n.placeholder&&(this.quillEditor.root.dataset.placeholder=n.placeholder.currentValue),n.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=n.defaultEmptyValue.currentValue),n.styles){const i=n.styles.currentValue,t=n.styles.previousValue;t&&Object.keys(t).forEach(o=>{this.renderer.removeStyle(this.editorElem,o)}),i&&Object.keys(i).forEach(o=>{this.renderer.setStyle(this.editorElem,o,this.styles[o])})}if(n.classes){const i=n.classes.currentValue,t=n.classes.previousValue;t&&this.removeClasses(t),i&&this.addClasses(i)}n.debounceTime&&this.addQuillEventListeners()}}addClasses(n){l.normalizeClassNames(n).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(n){l.normalizeClassNames(n).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(n){if(this.filterNull&&null===n||(this.content=n,!this.quillEditor))return;const i=w(this.format,this.service.config.format),t=this.valueSetter(this.quillEditor,n);if(this.compareValues){const o=this.quillEditor.getContents();if(JSON.stringify(o)===JSON.stringify(t))return}n?"text"===i?this.quillEditor.setText(n):this.quillEditor.setContents(t):this.quillEditor.setText("")}setDisabledState(n=this.disabled){this.disabled=n,this.quillEditor&&(n?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}registerOnValidatorChange(n){this.onValidatorChanged=n}validate(){if(!this.quillEditor)return null;const n={};let i=!0;const t=this.quillEditor.getText(),o=this.trimOnValidation?t.trim().length:1===t.length&&0===t.trim().length?0:t.length-1,r=this.quillEditor.getContents().ops,p=r&&1===r.length&&["\n",""].includes(r[0].insert);return this.minLength&&o&&o<this.minLength&&(n.minLengthError={given:o,minLength:this.minLength},i=!1),this.maxLength&&o>this.maxLength&&(n.maxLengthError={given:o,maxLength:this.maxLength},i=!1),this.required&&!o&&p&&(n.requiredError={empty:!0},i=!1),i?null:n}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new m.w0,this.subscription.add((0,T.R)(this.quillEditor,"selection-change").subscribe(([t,o,r])=>{this.selectionChangeHandler(t,o,r)}));let n=(0,T.R)(this.quillEditor,"text-change"),i=(0,T.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(n=n.pipe((0,u.b)(this.debounceTime)),i=i.pipe((0,u.b)(this.debounceTime))),this.subscription.add(n.subscribe(([t,o,r])=>{this.textChangeHandler(t,o,r)})),this.subscription.add(i.subscribe(([t,o,r,p])=>{this.editorChangeHandler(t,o,r,p)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275dir=e.lG2({type:a,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[e.TTD]}),l})(),V=(()=>{var a;class l extends W{}return(a=l).\u0275fac=function(){let c;return function(i){return(c||(c=e.n5z(a)))(i||a)}}(),a.\u0275cmp=e.Xpm({type:a,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:v.JU,useExisting:(0,e.Gpc)(()=>a)},{multi:!0,provide:v.Cf,useExisting:(0,e.Gpc)(()=>a)}]),e.qOj,e.jDz],ngContentSelectors:z,decls:5,vars:2,consts:[[3,"ngIf"],["noPreserveTpl",""],["quill-editor-element","",4,"ngIf","ngIfElse"],["quill-editor-element",""]],template:function(n,i){1&n&&(e.F$t(B),e.YNc(0,J,1,2,"ng-template",0),e.Hsn(1),e.YNc(2,k,1,2,"ng-template",0),e.YNc(3,U,1,0,"ng-template",null,1,e.W1O)),2&n&&(e.Q6J("ngIf","top"!==i.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===i.toolbarPosition))},dependencies:[C.ez,C.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),l})(),G=(()=>{var a;class l{constructor(n,i){this.sanitizer=n,this.service=i,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(n){if(n.theme?this.themeClass=`ql-${n.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),n.content){const i=n.content.currentValue,t=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=t?i:this.sanitizer.bypassSecurityTrustHtml(i)}}}return(a=l).\u0275fac=function(n){return new(n||a)(e.Y36(_.H7),e.Y36(j))},a.\u0275cmp=e.Xpm({type:a,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&n&&(e.Q6J("ngClass",i.themeClass),e.xp6(1),e.Q6J("innerHTML",i.innerHTML,e.oJD))},dependencies:[C.ez,C.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),l})(),K=(()=>{var a;class l{constructor(n,i,t,o,r,p){this.elementRef=n,this.renderer=i,this.zone=t,this.service=o,this.domSanitizer=r,this.platformId=p,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new e.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(M,O)=>{const A=w(this.format,this.service.config.format);let F=O;if("text"===A)M.setText(F);else{if("html"===A)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(O=this.domSanitizer.sanitize(e.q3G.HTML,O)),F=M.clipboard.convert(O);else if("json"===A)try{F=JSON.parse(O)}catch{F=[{insert:O}]}M.setContents(F)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(n){this.quillEditor&&n.content&&this.valueSetter(this.quillEditor,n.content.currentValue)}ngAfterViewInit(){(0,C.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,h.z)(n=>{const i=[this.service.registerCustomModules(n,this.customModules)],t=this.beforeRender??this.service.config.beforeRender;return t&&i.push(t()),Promise.all(i).then(()=>n)})).subscribe(n=>{const i=Object.assign({},this.modules||this.service.config.modules);i.toolbar=!1,this.customOptions.forEach(p=>{const M=n.import(p.import);M.whitelist=p.whitelist,n.register(M,!0)});let t=this.debug;!t&&!1!==t&&this.service.config.debug&&(t=this.service.config.debug);let o=this.formats;!o&&void 0===o&&(o=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const r=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new n(this.editorElem,{debug:t,formats:o,modules:i,readOnly:!0,strict:this.strict,theme:r})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.quillSubscription?.unsubscribe(),this.quillSubscription=null}}return(a=l).\u0275fac=function(n){return new(n||a)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(j),e.Y36(_.H7),e.Y36(e.Lbi))},a.\u0275cmp=e.Xpm({type:a,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(n,i){1&n&&(e.YNc(0,Y,1,0,"div",0),e.YNc(1,H,1,0,"pre",0)),2&n&&(e.Q6J("ngIf",!i.preserve),e.xp6(1),e.Q6J("ngIf",i.preserve))},dependencies:[C.ez,C.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),l})(),$=(()=>{var a;class l{static forRoot(n){return{ngModule:l,providers:[{provide:q,useValue:n}]}}}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[V,K,G]}),l})()}}]);